<!DOCTYPE html>            <html lang="en">            <head>              <meta charset="UTF-8" />              <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />              <meta http-equiv="X-UA-Compatible" content="IE=edge" />              <title>Video SDK for Cocos2d C++ 接口手册</title>              <style>.code,sub,sup{position:relative}button,hr,input{overflow:visible}audio,canvas,progress,video{display:inline-block}html,legend{box-sizing:border-box}.btn:focus,a:focus{box-shadow:0 0 0 .2rem rgba(87,100,198,.15)}code,mark,progress,sub,sup{vertical-align:baseline}.hljs-emphasis,.text-italic,dfn{font-style:italic}.text-break,pre code{word-wrap:break-word}.btn,a,button{outline:0}.table,table{border-collapse:collapse}li ul li,ul ul{list-style-type:circle}.btn,.text-clip,.text-ellipsis,code{white-space:nowrap}html{font-family:sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section{display:block}hr{box-sizing:content-box}a{background-color:transparent}a:active,a:hover{outline-width:0}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0}sub{bottom:-.25em}sup{top:-.5em}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit;margin:0}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}fieldset{border:0;margin:0;padding:0}legend{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}summary{display:list-item}[hidden],template{display:none}.btn,mark{display:inline-block}*,::after,::before{box-sizing:inherit}html{font-size:10px;line-height:1.42857143;-webkit-tap-highlight-color:transparent}body{margin:0;background:#fff;color:#50596c;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;font-size:1.4rem;overflow-x:hidden;text-rendering:optimizeLegibility}a.active,a:active,a:focus,a:hover{color:#3b49af;text-decoration:underline}.btn,.btn.active,.btn.btn-clear,.btn:active,.btn:focus,.btn:hover,.docs-content .anchor:focus,.docs-content .anchor:hover,.grid-hero h2 u,.menu .menu-item,.menu .menu-item>a,.nav .nav-item a,a{text-decoration:none}h1,h2,h3,h4,h5,h6{color:inherit;font-weight:300;line-height:1.2;margin-bottom:1.5rem;margin-top:0}h6{font-size:1.6rem}p{line-height:2.4rem;margin:0 0 1rem}a,ins,u{-webkit-text-decoration-skip:ink edges;text-decoration-skip:ink edges}blockquote{margin-left:0}blockquote p:last-child{margin-bottom:0}blockquote cite{color:#acb3c2}ol,ul{margin:2rem 0 2rem 2rem;padding:0}ol ol,ol ul,ul ol,ul ul{margin:1.5rem 0 1.5rem 2rem}ol li,ul li{margin-top:1rem}ul{list-style:disc}ol{list-style:decimal}ol ol{list-style-type:lower-alpha}dl dt{font-weight:700}dl dd{margin:.5rem 0 1.5rem}mark{background:#ffe9b3;border-radius:.2rem;color:#50596c;line-height:1;padding:.3rem .4rem}.table td,.table th{padding:1.5rem 1rem}.table{border-spacing:0;text-align:left;width:100%}.table.table-striped tbody tr:nth-of-type(odd){background:#f8f9fa}.table tbody tr.active,.table.table-hover tbody tr:hover,.table.table-striped tbody tr.active{background:#f0f1f4}.table td{border-bottom:.1rem solid #f0f1f4}.table th{border-bottom:.1rem solid #727e96}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;border:.1rem solid #5764c6;border-radius:.2rem;color:#5764c6;cursor:pointer;font-size:1.4rem;height:3.2rem;line-height:2rem;padding:.5rem .8rem;text-align:center;transition:all .2s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle}.btn:focus{background:#fbfbfe}.btn:hover{background:#5764c6;border-color:#4c59c2;color:#fff}.btn.active,.btn:active{background:#4c59c2;border-color:#3e4cb6;color:#fff}.btn.disabled,.btn:disabled,.btn[disabled]{cursor:default;opacity:.5;pointer-events:none}.hand,button:hover{cursor:pointer}.btn.btn-primary{background:#5764c6;border-color:#4c59c2;color:#fff}.btn.btn-primary:focus,.btn.btn-primary:hover{background:#4452c0;border-color:#3e4cb6;color:#fff}.btn.btn-primary.active,.btn.btn-primary:active{background:#3f4eba;border-color:#3b49af;color:#fff}.btn.btn-primary.loading::after{border-bottom-color:#fff;border-left-color:#fff}.btn.btn-link{background:0 0;border-color:transparent;color:#5764c6}.btn.btn-link.active,.btn.btn-link:active,.btn.btn-link:focus,.btn.btn-link:hover{color:#3b49af}.btn.btn-sm{font-size:1.2rem;height:2.4rem;padding:.1rem .8rem}.btn.btn-lg{font-size:1.6rem;height:4rem;padding:.9rem .8rem}.btn.btn-block{display:block;width:100%}.btn.btn-action{padding-left:0;padding-right:0;width:3.2rem}.btn.btn-action.btn-sm{width:2.4rem}.btn.btn-action.btn-lg{width:4rem}.btn.btn-clear{background:0 0;border:0;color:currentColor;height:1.6rem;line-height:1.6rem;margin-left:.4rem;margin-right:-.2rem;opacity:.45;padding:0 .2rem;width:1.6rem}.btn.btn-clear:hover{opacity:.85}.btn.btn-clear::before{content:"\2715"}.btn-group{display:inline-flex;display:-ms-inline-flexbox;display:-webkit-inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.btn-group .btn{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto}.btn-group .btn:first-child:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.btn-group .btn:not(:first-child):not(:last-child){border-radius:0;margin-left:-.1rem}.btn-group .btn:last-child:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-.1rem}.code,.menu,.menu .menu-item>a{border-radius:.2rem}.btn-group .btn.active,.btn-group .btn:active,.btn-group .btn:focus,.btn-group .btn:hover{z-index:1}.btn-group.btn-group-block{display:flex;display:-ms-flexbox;display:-webkit-flex}.btn-group.btn-group-block .btn{-webkit-flex:1 0 0;-ms-flex:1 0 0;flex:1 0 0}code{background:#fdf4f4;display:inline-block}.code{color:#50596c;line-height:2rem}.code::before{color:#acb3c2;content:attr(data-lang);font-size:1.2rem;position:absolute;right:1rem;top:.2rem}.code code{background:#f8f9fa;color:inherit;display:block;line-height:inherit;overflow-x:auto;padding:2rem;width:100%}.img-responsive{display:block;height:auto;max-width:100%}.img-fit-cover{object-fit:cover}.img-fit-contain{object-fit:contain}.video-responsive{display:block;overflow:hidden;padding:0;position:relative;width:100%}.video-responsive::before{content:"";display:block;padding-bottom:56.25%}.video-responsive embed,.video-responsive iframe,.video-responsive object{bottom:0;height:100%;left:0;position:absolute;right:0;top:0;width:100%}.video-responsive video{height:auto;max-width:100%;width:100%}.video-responsive-4-3::before{padding-bottom:75%}.video-responsive-1-1::before{padding-bottom:100%}.figure{margin:0 0 1rem}.figure .figure-caption{color:#727e96;margin-top:1rem}.container{margin-left:auto;margin-right:auto;padding-left:1rem;padding-right:1rem;width:100%}.container.grid-1280{max-width:130rem}.container.grid-960{max-width:98rem}.container.grid-480{max-width:50rem}.column,img{max-width:100%}.columns{display:flex;display:-ms-flexbox;display:-webkit-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-left:-1rem;margin-right:-1rem}.columns.col-gapless{margin-left:0;margin-right:0}.columns.col-gapless .column{padding-left:0;padding-right:0}.columns.col-oneline{-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;overflow-x:auto}.column{-webkit-flex:1;-ms-flex:1;flex:1;padding:1rem}.column.col-1,.column.col-10,.column.col-11,.column.col-12,.column.col-2,.column.col-3,.column.col-4,.column.col-5,.column.col-6,.column.col-7,.column.col-8,.column.col-9{-webkit-flex:none;-ms-flex:none;flex:none}.col-12{width:100%}.col-11{width:91.66666667%}.col-10{width:83.33333333%}.col-9{width:75%}.col-8{width:66.66666667%}.col-7{width:58.33333333%}.col-6{width:50%}.col-5{width:41.66666667%}.col-4{width:33.33333333%}.col-3{width:25%}.col-2{width:16.66666667%}.col-1{width:8.33333333%}@media screen and (max-width:1280px){.col-xl-1,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9{-webkit-flex:none;-ms-flex:none;flex:none}.col-xl-12{width:100%}.col-xl-11{width:91.66666667%}.col-xl-10{width:83.33333333%}.col-xl-9{width:75%}.col-xl-8{width:66.66666667%}.col-xl-7{width:58.33333333%}.col-xl-6{width:50%}.col-xl-5{width:41.66666667%}.col-xl-4{width:33.33333333%}.col-xl-3{width:25%}.col-xl-2{width:16.66666667%}.col-xl-1{width:8.33333333%}}@media screen and (max-width:960px){.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9{-webkit-flex:none;-ms-flex:none;flex:none}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}}@media screen and (max-width:840px){.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{-webkit-flex:none;-ms-flex:none;flex:none}.col-md-12{width:100%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}}@media screen and (max-width:600px){.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9{-webkit-flex:none;-ms-flex:none;flex:none}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}}.show-lg,.show-md,.show-sm,.show-xl,.show-xs{display:none!important}@media screen and (max-width:480px){.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{-webkit-flex:none;-ms-flex:none;flex:none}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.hide-xs{display:none!important}.show-xs{display:block!important}}@media screen and (max-width:600px){.hide-sm{display:none!important}.show-sm{display:block!important}}@media screen and (max-width:840px){.hide-md{display:none!important}.show-md{display:block!important}}@media screen and (max-width:960px){.hide-lg{display:none!important}.show-lg{display:block!important}}@media screen and (max-width:1280px){.hide-xl{display:none!important}.show-xl{display:block!important}}.navbar{-webkit-align-items:stretch;align-items:stretch;display:flex;display:-ms-flexbox;display:-webkit-flex;-ms-flex-align:stretch;-ms-flex-pack:justify;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-justify-content:space-between;justify-content:space-between}.navbar .navbar-section{-webkit-align-items:center;align-items:center;display:flex;display:-ms-flexbox;display:-webkit-flex;-webkit-flex:1 0 0;-ms-flex:1 0 0;flex:1 0 0;-ms-flex-align:center}.navbar .navbar-section:last-child{-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.navbar .navbar-center{-webkit-align-items:center;align-items:center;display:flex;display:-ms-flexbox;display:-webkit-flex;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center}.navbar .navbar-brand{font-size:1.6rem;font-weight:500;text-decoration:none}.menu{background:#fff;box-shadow:0 .1rem .4rem rgba(69,77,93,.3);list-style:none;margin:0;min-width:18rem;padding:1rem;-webkit-transform:translateY(.5rem);-ms-transform:translateY(.5rem);transform:translateY(.5rem);z-index:100}.menu .menu-item{margin-top:0;padding:0 .8rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.menu .menu-item>a{color:inherit;display:block;margin:0 -.8rem;padding:.6rem .8rem}.menu .menu-item>a:focus,.menu .menu-item>a:hover{color:#5764c6}.menu .menu-item>a.active,.menu .menu-item>a:active{background:#fbfbfe;color:#5764c6}.menu .menu-badge{float:right;padding:.6rem 0}.menu .menu-badge .btn{margin-top:-.2rem}.breadcrumb,.nav,.pagination,.tab{list-style:none;margin:.5rem 0}.breadcrumb{padding:1.2rem}.breadcrumb .breadcrumb-item{display:inline-block;margin:0}.breadcrumb .breadcrumb-item:last-child{color:#acb3c2}.breadcrumb .breadcrumb-item:not(:first-child)::before{color:#e7e9ed;content:"/";padding:0 .4rem}.nav{display:flex;display:-ms-flexbox;display:-webkit-flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.nav .nav-item a{color:#727e96;padding:.6rem .8rem}.nav .nav-item a:focus,.nav .nav-item a:hover,.nav .nav-item.active>a:focus,.nav .nav-item.active>a:hover{color:#5764c6}.nav .nav-item.active>a{font-weight:700}.nav .nav{margin-bottom:1rem;margin-left:2rem}.nav .nav a{color:#acb3c2}.divider,.divider-vert{display:block;position:relative}.divider-vert[data-content]::after,.divider[data-content]::after{background:#fff;color:#e7e9ed;content:attr(data-content);display:inline-block;font-size:1.2rem;padding:0 .8rem;-webkit-transform:translateY(-1.1rem);-ms-transform:translateY(-1.1rem);transform:translateY(-1.1rem)}.clearfix::after,.container::after,.mask:after,.version::after,h3:after{content:""}.divider{border-top:.1rem solid #f0f1f4;height:.1rem;margin:1rem 0}.clearfix::after,.container::after{clear:both;display:table}.block,.centered{display:block}.float-left{float:left!important}.float-right{float:right!important}.rel{position:relative}.abs{position:absolute}.fixed{position:fixed}.centered{float:none;margin-left:auto;margin-right:auto}.mt-10{margin-top:1rem}.mr-10{margin-right:1rem}.mb-10{margin-bottom:1rem}.ml-10{margin-left:1rem}.mt-5{margin-top:.5rem}.mr-5{margin-right:.5rem}.mb-5{margin-bottom:.5rem}.ml-5{margin-left:.5rem}.pt-10{padding-top:1rem}.pr-10{padding-right:1rem}.pb-10{padding-bottom:1rem}.pl-10{padding-left:1rem}.pt-5{padding-top:.5rem}.pr-5{padding-right:.5rem}.pb-5{padding-bottom:.5rem}.pl-5{padding-left:.5rem}.inline{display:inline}.inline-block{display:inline-block}.flex{display:flex;display:-ms-flexbox;display:-webkit-flex}.inline-flex{display:inline-flex;display:-ms-inline-flexbox;display:-webkit-inline-flex}.hide{display:none!important}.visible{visibility:visible}.invisible{visibility:hidden}.text-hide{background:0 0;border:0;color:transparent;font-size:0;line-height:0;text-shadow:none}.text-assistive{border:0;clip:rect(0,0,0,0);height:.1rem;margin:-.1rem;overflow:hidden;padding:0;position:absolute;width:.1rem}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.text-normal{font-weight:400}.text-bold,li p:first-child{font-weight:700}.text-large{font-size:1.2em}.text-ellipsis{overflow:hidden;text-overflow:ellipsis}.text-clip{overflow:hidden;text-overflow:clip}.text-break{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;word-break:break-word}.shadow-0{box-shadow:0 0 .2rem rgba(69,77,93,.3)}.shadow-1{box-shadow:0 .1rem .4rem rgba(69,77,93,.3)}.shadow-2{box-shadow:0 .2rem .6rem rgba(69,77,93,.3)}.shadow-3{box-shadow:0 .3rem .8rem rgba(69,77,93,.3)}.shadow-4{box-shadow:0 .4rem 1rem rgba(69,77,93,.3)}.rounded{border-radius:.2rem}.circle{border-radius:50%}.bg-gray{background:#f8f9fa;color:#667189;padding:1rem}.bg-dark,.bg-primary{color:#fff;padding:1rem}.bg-dark{background:#50596c}.bg-primary{background:#5764c6}.section-header{padding:1rem .5rem;position:fixed;top:0;width:100%;z-index:200}.section-hero{position:relative;z-index:300}.grid-header .navbar{height:4rem}.grid-header .navbar-section{padding:0}.grid-header .navbar-brand{color:#50596c}.grid-header .btn-link{color:#667189;padding-left:.6rem;padding-right:.6rem}.grid-header .btn-link:active,.grid-header .btn-link:focus,.grid-header .btn-link:hover{color:#50596c;opacity:.75}.grid-hero{margin-bottom:4rem;margin-top:10rem}.grid-hero h1{color:#50596c;font-size:3.2rem;font-weight:400}.grid-hero h2{color:#5b657a;font-size:1.8rem;font-weight:400;line-height:3rem;margin-bottom:3rem}h3,h4{line-height:1.20849}.grid-hero h2 u{border-bottom:.2rem solid currentColor;padding-bottom:.1rem}.grid-hero .card{background:0 0;border:0;color:#667189;padding:1rem}.grid-hero .card .card-title{color:#5764c6;font-size:1.8rem;margin-bottom:0}.grid-footer{color:#acb3c2;margin-bottom:1rem;margin-top:2rem}.grid-footer a{color:#727e96}.docs-content{padding-top:0}.docs-content .container{padding:1rem}.docs-content header{padding-top:6rem}.docs-content .anchor{height:0;margin-left:.3em;overflow:hidden;position:absolute;width:0}.docs-content .anchor:focus,.docs-content .anchor:hover{height:auto;width:auto}.docs-content .notes{margin:4rem 0}.docs-content .docs-block{border-radius:.2rem;padding:1rem .5rem}.docs-content .docs-dot{border-radius:50%;display:inline-block;height:1rem;padding:0;width:1rem}.docs-content .docs-table td,.docs-content .docs-table th{padding:1.5rem .5rem}.docs-content h1:hover .anchor,.docs-content h2:hover .anchor,.docs-content h3:hover .anchor,.docs-content h4:hover .anchor,.docs-content h5:hover .anchor,.docs-content h6:hover .anchor{height:auto;width:auto}.docs-content .docs-color{border-radius:.2rem;margin:.5rem 0;padding:1rem}.docs-content .docs-color .color-subtitle{font-size:1.2rem;opacity:.75}.docs-content .panel{height:75vh}.docs-content .panel .tile{margin:1.5rem 0}.docs-content .code{color:#667189}.docs-content .code .com{color:#acb3c2}.docs-content .code .tag{color:#5764c6}.docs-content .code .atn{color:#667189}.docs-content .code .atv{color:#e06870}.docs-content .empty .icon{font-size:4rem}.docs-content .form-autocomplete .menu{position:static}.docs-content .example-tile-icon{-webkit-align-content:space-around;align-content:space-around;-webkit-align-items:center;align-items:center;background:#5764c6;border-radius:.2rem;color:#fff;display:flex;display:-ms-flexbox;display:-webkit-flex;-ms-flex-align:center;-ms-flex-line-pack:distribute;font-size:2.4rem;height:4rem;width:4rem}.docs-content .example-tile-icon .icon{margin:auto}.docs-content .comparison-slider .filter-grayscale{-webkit-filter:grayscale(75%);filter:grayscale(75%)}@media screen and (min-width:601px){.section-header .navbar-section{padding:0 .5rem}.docs-sidebar{padding:0 1rem}.docs-sidebar .docs-nav{position:relative}@supports ((position:-webkit-sticky) or (position:sticky)){.docs-sidebar .docs-nav{position:sticky;position:-webkit-sticky;top:1rem;overflow-y:scroll}.docs-nav::-webkit-scrollbar{display:none}.docs-sidebar .docs-nav .nav-item a:focus{box-shadow:none}}}.docs-nav-clear{display:none}@media screen and (max-width:600px){.docs-nav-clear,.docs-sidebar{height:100%;left:0;position:fixed;top:0}.grid-hero h2{font-size:1.8rem}.grid-hero .card{padding:0}.docs-sidebar{background:#fff;overflow-y:auto;padding:0;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);transition:transform .2s ease,-webkit-transform .2s ease;transition:transform .2s ease;transition:-webkit-transform .2s ease;width:24rem;z-index:400}.docs-sidebar:target{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);transition:transform .2s ease,-webkit-transform .2s ease;transition:transform .2s ease;transition:-webkit-transform .2s ease}.docs-sidebar:target+.docs-nav-clear{display:block}.docs-nav-clear{background:rgba(0,0,0,.15);display:none;right:0;width:100%;z-index:300}}.hljs,pre code{background:#282c34}.hljs,h3:after,pre code{display:block}a{color:#2b93f7}h1 a,h2 a,h3 a,h4 a,h5 a,h6 a{color:#333}table{margin:10px 0 15px}td,th{border:1px solid #ddd;padding:3px 10px}th{padding:5px 10px}h1,h2,h3,h4{font-weight:500}img{transition:width 1s}h1{font-size:40px;text-align:left;width:auto;margin:50px 0 0;color:#000}h2{margin-top:3rem;line-height:1.25;padding-bottom:.6em;font-size:32px;border-bottom:1px solid #DDD}h3{margin-top:2rem;font-size:24px;letter-spacing:.015em;font-family:"SF Pro Display","SF Pro Icons","Helvetica Neue",Helvetica,Arial,sans-serif}h3:after{height:1px;width:3em;margin:15px 0 10px;background:#2b93f7;clear:both}h4{font-size:20px;letter-spacing:.015em}h5{font-size:16px}.hljs{overflow-x:auto;padding:.5em;color:#abb2bf}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;line-height:24px;padding:2px 4px;margin:0 2px;color:#e06870;background-color:#f9f9f9;border-radius:3px}pre{margin:1rem auto;position:relative}pre code{color:#abb2bf;padding:1.6rem .8rem;border-radius:.2rem;border:1px solid #313f48;line-height:1.5;font-size:14px;-ms-overflow-x:auto;word-break:break-all;white-space:pre-wrap}pre .copy-success{position:absolute;left:50%;top:25px;display:none;padding:8px 16px;background-color:#2b93f7;color:#fff;border-radius:4px;margin:-15px 0 0 -54px;z-index:100}.mask{position:relative}.mask:after{position:absolute;top:0;left:0;display:block;height:100%;width:100%;background-color:RGBA(0,0,0,.5);clear:both;transition:opacity .25s}blockquote{padding:10px;border-left:3px solid #e5e8ee;margin:0 0 20px 20px;background:#f8fafd;font-size:14px;display:block;line-height:1.5em}blockquote p,blockquote strong{color:#2996cc}blockquote ol,blockquote ul{margin:0;padding-left:17px}pre:hover .copyButton{opacity:1}button:hover{background:#1484b6}button{background:#19a5e4;border-radius:2px;color:#fff;margin:0;padding:.5rem;transition:background .25s;border:none;box-shadow:none;font-size:1rem;-webkit-appearance:none}pre .copyButton{background-color:#FFF;color:#333;font-size:.8rem;opacity:0;padding:.25rem .5rem;position:absolute;right:.5rem;top:.5rem;transition:opacity .25s}pre .copyButton:hover{background-color:#EEE;color:#000}hr{height:1px;border:none;border-top:1px dashed #06C}</style>            </head>            <body>              <section class="container grid-960">                <a href="#sidebar" class="btn btn-lg btn-link btn-action show-sm">导航</a>                <section class="columns">                  <div id="sidebar" class="docs-sidebar column col-3 col-sm-12">                    <div class="docs-nav nav"><ul>
<li><a href="#相关异步同步处理方法介绍">相关异步/同步处理方法介绍</a></li>
<li><a href="#api调用说明">API调用说明</a></li>
<li><a href="#实现回调">实现回调</a></li>
<li><a href="#初始化">初始化</a></li>
<li><a href="#判断是否初始化完成">判断是否初始化完成</a></li>
<li><a href="#加入语音频道单频道">加入语音频道（单频道）</a></li>
<li><a href="#加入语音频道多频道">加入语音频道（多频道）</a></li>
<li><a href="#指定讲话频道">指定讲话频道</a></li>
<li><a href="#退出指定的语音频道">退出指定的语音频道</a></li>
<li><a href="#退出所有语音频道">退出所有语音频道</a></li>
<li><a href="#设置用户身份">设置用户身份</a></li>
<li><a href="#获取用户身份">获取用户身份</a></li>
<li><a href="#查询是否在某个语音频道内">查询是否在某个语音频道内</a></li>
<li><a href="#切换语音输出设备">切换语音输出设备</a></li>
<li><a href="#设置扬声器状态">设置扬声器状态</a></li>
<li><a href="#获取扬声器状态">获取扬声器状态</a></li>
<li><a href="#设置麦克风状态">设置麦克风状态</a></li>
<li><a href="#获取麦克风状态">获取麦克风状态</a></li>
<li><a href="#设置是否通知别人麦克风和扬声器的开关">设置是否通知别人麦克风和扬声器的开关</a></li>
<li><a href="#设置音量">设置音量</a></li>
<li><a href="#获取音量">获取音量</a></li>
<li><a href="#设置是否允许使用移动网络">设置是否允许使用移动网络</a></li>
<li><a href="#获取是否允许使用移动网络">获取是否允许使用移动网络</a></li>
<li><a href="#控制他人麦克风">控制他人麦克风</a></li>
<li><a href="#控制他人扬声器">控制他人扬声器</a></li>
<li><a href="#设置是否听某人的语音">设置是否听某人的语音</a></li>
<li><a href="#视频数据输入">视频数据输入</a></li>
<li><a href="#ios视频数据输入">ios视频数据输入</a></li>
<li><a href="#android视频数据输入">android视频数据输入</a></li>
<li><a href="#停止视频数据输入">停止视频数据输入</a></li>
<li><a href="#音频数据输入">音频数据输入</a></li>
<li><a href="#暂停通话">暂停通话</a></li>
<li><a href="#恢复通话">恢复通话</a></li>
<li><a href="#设置语音检测">设置语音检测</a></li>
<li><a href="#设置音量回调">设置音量回调</a></li>
<li><a href="#远端音量回调">远端音量回调</a></li>
<li><a href="#设置当麦克风静音时是否释放麦克风设备">设置当麦克风静音时，是否释放麦克风设备</a><ul>
<li><a href="#设置插入耳机时是否自动退出系统通话模式">设置插入耳机时，是否自动退出系统通话模式</a></li>
</ul>
</li>
<li><a href="#释放麦克风">释放麦克风</a></li>
<li><a href="#恢复麦克风">恢复麦克风</a></li>
<li><a href="#播放背景音乐">播放背景音乐</a></li>
<li><a href="#停止播放背景音乐">停止播放背景音乐</a></li>
<li><a href="#暂停播放背景音乐">暂停播放背景音乐</a></li>
<li><a href="#恢复播放背景音乐">恢复播放背景音乐</a></li>
<li><a href="#背景音乐是否在播放">背景音乐是否在播放</a></li>
<li><a href="#设置背景音乐播放音量">设置背景音乐播放音量</a></li>
<li><a href="#设置监听">设置监听</a></li>
<li><a href="#设置混响音效">设置混响音效</a><ul>
<li><a href="#设置音频数据回调">设置音频数据回调</a></li>
</ul>
</li>
<li><a href="#翻译">翻译</a></li>
<li><a href="#设置翻译的回调">设置翻译的回调</a></li>
<li><a href="#视频接入流程以一个房间2个人为例">视频接入流程（以一个房间2个人为例）</a></li>
<li><a href="#视频接入补充说明">视频接入补充说明</a></li>
<li><a href="#反初始化">反初始化</a></li>
</ul>
</div>                  </div>                  <a href="#sidebar-close" id="sidebar-close" class="docs-nav-clear"></a>                  <div class="docs-content column col-9 col-sm-12">                    <section id="grid" class="container"><h1 id="video-sdk-for-cocos2d-c-接口手册">Video SDK for Cocos2d C++ 接口手册<a class="anchor" aria-hidden="true" href="#video-sdk-for-cocos2d-c-接口手册">#</a></h1><h3 id="相关异步同步处理方法介绍">相关异步/同步处理方法介绍<a class="anchor" aria-hidden="true" href="#相关异步同步处理方法介绍">#</a></h3><p>游密语音引擎SDK提供的全部为C++接口,接口调用都会立即返回,凡是本身需要较长耗时的接口调用都会采用异步回调的方式,所有接口都可以在主线程中直接使用。回调都在子线程中进行，请注意不要在回调中直接操作UI主线程。</p>
<h3 id="api调用说明">API调用说明<a class="anchor" aria-hidden="true" href="#api调用说明">#</a></h3><p>API的调用可使用“IYouMeVoiceEngine::getInstance ()-&gt;”来直接操作，接口使用的基本流程为<code>初始化</code>-&gt;<code>收到初始化成功回调通知</code>-&gt;<code>加入语音频道</code>-&gt;<code>收到加入频道成功回调通知</code>-&gt;<code>使用其它接口</code>-&gt;<code>离开语音频道</code>-&gt;<code>反初始化</code>，要确保严格按照上述的顺序使用接口。</p>
<h3 id="实现回调">实现回调<a class="anchor" aria-hidden="true" href="#实现回调">#</a></h3><p>使用者要继承类IYouMeEventCallback并实现其纯虚函数（回调函数），在调用初始化函数时传入指向子类的指针。回调都在子线程中执行，不能用于更新UI等耗时操作。</p>
<ul>
<li><p>首先声明一个类YouMeVoiceEngineImp（类名可自取）来注册回调事件：</p>
<pre><code class="lang-cpp"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">YouMeVoiceEngineImp</span> :</span> <span class="hljs-keyword">public</span> IYouMeEventCallback
{
<span class="hljs-keyword">public</span>:
   <span class="hljs-function"><span class="hljs-keyword">static</span> YouMeVoiceEngineImp *<span class="hljs-title">getInstance</span> <span class="hljs-params">()</span></span>;
   <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span>  <span class="hljs-title">onEvent</span><span class="hljs-params">(<span class="hljs-keyword">const</span> YouMeEvent event, <span class="hljs-keyword">const</span> YouMeErrorCode error, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> * channel, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> * param)</span></span>;
}
</code></pre>
</li>
<li><p>然后在该类YouMeVoiceEngineImp下必须实现以下方法：</p>
<pre><code class="lang-cpp">
<span class="hljs-comment">//监听各类回调事件</span>
<span class="hljs-function"><span class="hljs-keyword">void</span>  <span class="hljs-title">onEvent</span><span class="hljs-params">(<span class="hljs-keyword">const</span> YouMeEvent event, <span class="hljs-keyword">const</span> YouMeErrorCode error, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> * channel, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> * param)</span>
</span>{
     <span class="hljs-keyword">switch</span> (event)
    {
    <span class="hljs-comment">//case案例只覆盖了部分，仅供参考，详情请查询枚举类型YouMeEvent</span>
    <span class="hljs-keyword">case</span> YOUME_EVENT_INIT_OK:
              <span class="hljs-comment">//"初始化成功";</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_INIT_FAILED:
              <span class="hljs-comment">// "初始化失败，错误码：" + errorCode;</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_JOIN_OK:
           <span class="hljs-comment">//"加入频道成功";</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_LEAVED_ALL:
          <span class="hljs-comment">// "离开频道成功";</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_JOIN_FAILED:
          <span class="hljs-comment">//进入语音频道失败</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_REC_PERMISSION_STATUS:
        <span class="hljs-comment">// "通知录音权限状态，成功获取权限时错误码为YOUME_SUCCESS，获取失败为YOUME_ERROR_REC_NO_PERMISSION（此时不管麦克风mute状态如何，都没有声音输出）";</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_RECONNECTING:
          <span class="hljs-comment">//"断网了，正在重连";</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_RECONNECTED:
          <span class="hljs-comment">// "断网重连成功";</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_MEMBER_CHANGE:
          <span class="hljs-comment">//房间内成员列表变化</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span>  YOUME_EVENT_OTHERS_MIC_OFF:
          <span class="hljs-comment">//其他用户的麦克风关闭：</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_OTHERS_MIC_ON:
          <span class="hljs-comment">//其他用户的麦克风打开：</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_OTHERS_SPEAKER_ON:
          <span class="hljs-comment">//其他用户的扬声器打开：</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_OTHERS_SPEAKER_OFF:
          <span class="hljs-comment">//其他用户的扬声器关闭</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_OTHERS_VOICE_ON:
          <span class="hljs-comment">//其他用户开始讲话</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_OTHERS_VOICE_OFF:
          <span class="hljs-comment">//其他用户停止讲话</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_MY_MIC_LEVEL:
          <span class="hljs-comment">//麦克风的语音级别</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_MIC_CTR_ON:
          <span class="hljs-comment">//麦克风被其他用户打开</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_MIC_CTR_OFF:
          <span class="hljs-comment">//麦克风被其他用户关闭</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_SPEAKER_CTR_ON:
          <span class="hljs-comment">//扬声器被其他用户打开</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_SPEAKER_CTR_OFF:
          <span class="hljs-comment">//扬声器被其他用户关闭</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_LISTEN_OTHER_ON:
          <span class="hljs-comment">//取消屏蔽某人语音</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_LISTEN_OTHER_OFF:
          <span class="hljs-comment">//屏蔽某人语音</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-comment">//=====================视频相关=========================</span>
      <span class="hljs-keyword">case</span> YOUME_EVENT_OTHERS_VIDEO_ON:
          <span class="hljs-comment">//其他用户视频流打开</span>
          <span class="hljs-comment">//收到此事件即可以对该用户做视频渲染与显示操作</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_OTHERS_VIDEO_OFF:
          <span class="hljs-comment">//其他用户视频流断开</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_OTHERS_CAMERA_PAUSE:
          <span class="hljs-comment">//其他用户摄像头暂停</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_OTHERS_CAMERA_RESUME:
          <span class="hljs-comment">//其他用户摄像头恢复</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_MASK_VIDEO_BY_OTHER_USER:
          <span class="hljs-comment">//视频被其他用户屏蔽</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_RESUME_VIDEO_BY_OTHER_USER:
          <span class="hljs-comment">//视频被其他用户恢复</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_MASK_VIDEO_FOR_USER:
          <span class="hljs-comment">//屏蔽了谁的视频</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_RESUME_VIDEO_FOR_USER:
          <span class="hljs-comment">//恢复了谁的视频</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_OTHERS_VIDEO_SHUT_DOWN:
          <span class="hljs-comment">//其他用户视频断开</span>
          <span class="hljs-comment">//包含以下情形：对方退出房间、对方网络不好、关闭了摄像头、屏蔽了对方的视频流</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_MEDIA_DATA_ROAD_PASS: 
          <span class="hljs-comment">///音视频数据通路连通，定时检测，一开始收到数据会收到PASS事件，之后变化的时候会发送</span>
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> YOUME_EVENT_MEDIA_DATA_ROAD_BLOCK: 
          <span class="hljs-comment">///音视频数据通路不通</span>
          <span class="hljs-keyword">break</span>;    
      <span class="hljs-keyword">case</span> YOUME_EVENT_QUERY_USERS_VIDEO_INFO: 
          <span class="hljs-comment">///查询用户视频信息返回</span>
          <span class="hljs-keyword">break</span>;  
      <span class="hljs-keyword">case</span> YOUME_EVENT_SET_USERS_VIDEO_INFO: 
          <span class="hljs-comment">///设置用户接收视频信息返回</span>
          <span class="hljs-keyword">break</span>;  
      <span class="hljs-keyword">default</span>:
          <span class="hljs-comment">//"事件类型" + eventType + ",错误码" +</span>
          <span class="hljs-keyword">break</span>;
      }  
}
</code></pre>
</li>
</ul>
<h3 id="初始化">初始化<a class="anchor" aria-hidden="true" href="#初始化">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">init</span><span class="hljs-params">(
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strAppKey,
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strAPPSecret,
YOUME_RTC_SERVER_REGION serverRegionId,
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strExtServerRegionName)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>初始化语音引擎，做APP验证和资源初始化。</p>
</li>
<li><p><strong>参数说明</strong><br><code>strAPPKey</code>：从游密申请到的 app key, 这个你们应用程序的唯一标识。<br><code>strAPPSecret</code>：对应 strAPPKey 的私钥, 这个需要妥善保存，不要暴露给其他人。<br><code>serverRegionId</code>：设置首选连接服务器的区域码，如果在初始化时不能确定区域，可以填RTC_DEFAULT_SERVER，后面确定时通过 SetServerRegion 设置。如果YOUME_RTC_SERVER_REGION定义的区域码不能满足要求，可以把这个参数设为 RTC_EXT_SERVER，然后通过后面的参数strExtServerRegionName 设置一个自定的区域值（如中国用 &quot;cn&quot; 或者 “ch&quot;表示），然后把这个自定义的区域值同步给游密，我们将通过后台配置映射到最佳区域的服务器。<br><code>strExtServerRegionName</code>：自定义的扩展的服务器区域名。不能为null，可为空字符串“”。只有前一个参数serverRegionId设为RTC_EXT_SERVER时，此参数才有效（否则都将当空字符串“”处理）。</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS才会有异步回调通知。其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
<li><p><strong>异步回调</strong></p>
</li>
</ul>
<pre><code><span class="hljs-comment">//涉及到的主要回调事件有：</span>
<span class="hljs-comment">// YOUME_EVENT_INIT_OK  - 表明初始化成功</span>
<span class="hljs-comment">// YOUME_EVENT_INIT_FAILED - 表明初始化失败，最常见的失败原因是网络错误或者 AppKey-AppSecret 错误</span>
<span class="hljs-function"><span class="hljs-keyword">void</span>  <span class="hljs-title">onEvent</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strParam)</span></span>;
</code></pre><h3 id="判断是否初始化完成">判断是否初始化完成<a class="anchor" aria-hidden="true" href="#判断是否初始化完成">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isInited</span><span class="hljs-params">()</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>判断语音引擎是否初始化完成。</p>
</li>
<li><p><strong>返回值</strong><br>true——初始化完成，false——未初始化或者初始化未完成</p>
</li>
</ul>
<h3 id="加入语音频道单频道">加入语音频道（单频道）<a class="anchor" aria-hidden="true" href="#加入语音频道单频道">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">joinChannelSingleMode</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strUserID, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strChannelID, <span class="hljs-keyword">int</span> userRole)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>加入语音频道（单频道模式，每个时刻只能在一个语音频道里面）。</p>
</li>
<li><p><strong>参数说明</strong><br><code>strUserID</code>：全局唯一的用户标识，全局指在当前应用程序的范围内。<br><code>strChannelID</code>：全局唯一的频道标识，全局指在当前应用程序的范围内。<br><code>userRole</code>：用户在语音频道里面的角色，见YouMeUserRole定义。</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS才会有异步回调通知。其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
<li><p><strong>异步回调</strong></p>
</li>
</ul>
<pre><code><span class="hljs-comment">//涉及到的主要回调事件有：</span>
<span class="hljs-comment">//YOUME_EVENT_JOIN_OK - 成功进入语音频道</span>
<span class="hljs-comment">//YOUME_EVENT_JOIN_FAILED - 进入语音频道失败，可能原因是网络或服务器有问题</span>
<span class="hljs-function"><span class="hljs-keyword">void</span>  <span class="hljs-title">onEvent</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strParam)</span></span>;
</code></pre><h3 id="加入语音频道多频道">加入语音频道（多频道）<a class="anchor" aria-hidden="true" href="#加入语音频道多频道">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">joinChannelMultiMode</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strUserID, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strChannelID)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>加入语音频道（多频道模式，可以同时听多个语音频道的内容，但每个时刻只能对着一个频道讲话）。</p>
</li>
<li><p><strong>参数说明</strong><br><code>strUserID</code>：全局唯一的用户标识，全局指在当前应用程序的范围内。<br><code>strChannelID</code>：全局唯一的频道标识，全局指在当前应用程序的范围内。</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS才会有异步回调通知。其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
<li><p><strong>异步回调</strong></p>
</li>
</ul>
<pre><code><span class="hljs-comment">//涉及到的主要回调事件有：</span>
<span class="hljs-comment">//YOUME_EVENT_JOIN_OK - 成功进入语音频道</span>
<span class="hljs-comment">//YOUME_EVENT_JOIN_FAILED - 进入语音频道失败，可能原因是网络或服务器有问题</span>
<span class="hljs-function"><span class="hljs-keyword">void</span>  <span class="hljs-title">onEvent</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strParam)</span></span>;
</code></pre><h3 id="指定讲话频道">指定讲话频道<a class="anchor" aria-hidden="true" href="#指定讲话频道">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">speakToChannel</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strChannelID)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>多频道模式下，指定当前要讲话的频道。</p>
</li>
<li><p><strong>参数说明</strong><br><code>strChannelID</code>：全局唯一的频道标识，全局指在当前应用程序的范围内。</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS才会有异步回调通知。其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
<li><p><strong>异步回调</strong></p>
</li>
</ul>
<pre><code><span class="hljs-comment">//涉及到的主要回调事件有：</span>
<span class="hljs-comment">//YOUME_EVENT_SPEAK_SUCCESS - 成功切入到指定语音频道</span>
<span class="hljs-comment">//YOUME_EVENT_SPEAK_FAILED - 切入指定语音频道失败，可能原因是网络或服务器有问题</span>
<span class="hljs-function"><span class="hljs-keyword">void</span>  <span class="hljs-title">onEvent</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strParam)</span></span>;
</code></pre><h3 id="退出指定的语音频道">退出指定的语音频道<a class="anchor" aria-hidden="true" href="#退出指定的语音频道">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">leaveChannelMultiMode</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strChannelID)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>多频道模式下，退出指定的语音频道。</p>
</li>
<li><p><strong>参数说明</strong><br><code>strChannelID</code>：全局唯一的频道标识，全局指在当前应用程序的范围内。</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS才会有异步回调通知。其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
<li><p><strong>异步回调</strong></p>
</li>
</ul>
<pre><code><span class="hljs-comment">//涉及到的主要回调事件有：</span>
<span class="hljs-comment">//YOUME_EVENT_LEAVED_ONE - 成功退出指定语音频道</span>
<span class="hljs-function"><span class="hljs-keyword">void</span>  <span class="hljs-title">onEvent</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strParam)</span></span>;
</code></pre><h3 id="退出所有语音频道">退出所有语音频道<a class="anchor" aria-hidden="true" href="#退出所有语音频道">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode leaveChannelAll ()<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>退出所有的语音频道（单频道模式下直接调用此函数离开频道即可）。</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS才会有异步回调通知。其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
<li><p><strong>异步回调</strong></p>
</li>
</ul>
<pre><code><span class="hljs-comment">//涉及到的主要回调事件有：</span>
<span class="hljs-comment">//YOUME_EVENT_LEAVED_ALL - 成功退出所有语音频道</span>
<span class="hljs-function"><span class="hljs-keyword">void</span>  <span class="hljs-title">onEvent</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strParam)</span></span>;
</code></pre><h3 id="设置用户身份">设置用户身份<a class="anchor" aria-hidden="true" href="#设置用户身份">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode setUserRole (<span class="hljs-name">YouMeUserRole_t</span> eUserRole)<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>切换身份(仅支持单频道模式，进入房间以后设置)。</p>
</li>
<li><p><strong>参数说明</strong><br><code>eUserRole</code>：用户身份。</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS才会有异步回调通知。其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="获取用户身份">获取用户身份<a class="anchor" aria-hidden="true" href="#获取用户身份">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeUserRole_t getUserRole ()<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>获取身份(仅支持单频道模式)。</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS才会有异步回调通知。其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="查询是否在某个语音频道内">查询是否在某个语音频道内<a class="anchor" aria-hidden="true" href="#查询是否在某个语音频道内">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isInChannel</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pChannelID)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>查询当前是否在某个语音频道内</p>
</li>
<li><p><strong>参数说明</strong><br><code>pChannelID</code>：全局唯一的频道标识，全局指在当前应用程序的范围内。</p>
</li>
<li><p><strong>返回值</strong><br>true——在频道内，false——没有在频道内</p>
</li>
</ul>
<h3 id="切换语音输出设备">切换语音输出设备<a class="anchor" aria-hidden="true" href="#切换语音输出设备">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setOutputToSpeaker</span> <span class="hljs-params">(<span class="hljs-keyword">bool</span> bOutputToSpeaker)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>默认输出到扬声器，在加入房间成功后设置（iOS受系统限制，如果已释放麦克风则无法切换到听筒）</p>
</li>
<li><p><strong>参数说明</strong><br><code>bOutputToSpeaker</code>:true——使用扬声器，false——使用听筒</p>
</li>
</ul>
<h3 id="设置扬声器状态">设置扬声器状态<a class="anchor" aria-hidden="true" href="#设置扬声器状态">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setSpeakerMute</span> <span class="hljs-params">(<span class="hljs-keyword">bool</span> mute)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>打开/关闭扬声器。建议该状态值在加入房间成功后按需再重置一次。</p>
</li>
<li><p><strong>参数说明</strong><br><code>mute</code>:true——关闭扬声器，false——开启扬声器。</p>
</li>
</ul>
<h3 id="获取扬声器状态">获取扬声器状态<a class="anchor" aria-hidden="true" href="#获取扬声器状态">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">getSpeakerMute</span><span class="hljs-params">()</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>获取当前扬声器状态。</p>
</li>
<li><p><strong>返回值</strong><br>true——扬声器关闭，false——扬声器开启。</p>
</li>
</ul>
<h3 id="设置麦克风状态">设置麦克风状态<a class="anchor" aria-hidden="true" href="#设置麦克风状态">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setMicrophoneMute</span> <span class="hljs-params">(<span class="hljs-keyword">bool</span> mute)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>打开／关闭麦克风。建议该状态值在加入房间成功后按需再重置一次。</p>
</li>
<li><p><strong>参数说明</strong><br><code>mute</code>:true——关闭麦克风，false——开启麦克风。</p>
</li>
</ul>
<h3 id="获取麦克风状态">获取麦克风状态<a class="anchor" aria-hidden="true" href="#获取麦克风状态">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">getMicrophoneMute</span> <span class="hljs-params">()</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>获取当前麦克风状态。</p>
</li>
<li><p><strong>返回值</strong><br>true——麦克风关闭，false——麦克风开启。</p>
</li>
</ul>
<h3 id="设置是否通知别人麦克风和扬声器的开关">设置是否通知别人麦克风和扬声器的开关<a class="anchor" aria-hidden="true" href="#设置是否通知别人麦克风和扬声器的开关">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setAutoSendStatus</span><span class="hljs-params">( <span class="hljs-keyword">bool</span> bAutoSend )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置是否通知别人,自己麦克风和扬声器的开关状态</p>
</li>
<li><p><strong>参数说明</strong><br><code>bAutoSend</code>:true——通知，false——不通知。</p>
</li>
</ul>
<h3 id="设置音量">设置音量<a class="anchor" aria-hidden="true" href="#设置音量">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setVolume</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> &amp;uiVolume)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置当前程序输出音量大小。建议该状态值在加入房间成功后按需再重置一次。</p>
</li>
<li><p><strong>参数说明</strong><br><code>uiVolume</code>:当前音量大小，范围[0-100]。</p>
</li>
</ul>
<h3 id="获取音量">获取音量<a class="anchor" aria-hidden="true" href="#获取音量">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getVolume</span> <span class="hljs-params">()</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>获取当前程序输出音量大小。</p>
</li>
<li><p><strong>返回值</strong><br>当前音量大小，范围[0-100]。</p>
</li>
</ul>
<h3 id="设置是否允许使用移动网络">设置是否允许使用移动网络<a class="anchor" aria-hidden="true" href="#设置是否允许使用移动网络">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setUseMobileNetworkEnabled</span> <span class="hljs-params">(<span class="hljs-keyword">bool</span> bEnabled)</span></span>;
</code></pre><ul>
<li><strong>功能</strong><br>设置是否允许使用移动网络。在WIFI和移动网络都可用的情况下会优先使用WIFI，在没有WIFI的情况下，如果设置允许使用移动网络，那么会使用移动网络进行语音通信，否则通信会失败。</li>
</ul>
<ul>
<li><strong>参数说明</strong><br><code>bEnabled</code>:true——允许使用移动网络，false——禁止使用移动网络。</li>
</ul>
<h3 id="获取是否允许使用移动网络">获取是否允许使用移动网络<a class="anchor" aria-hidden="true" href="#获取是否允许使用移动网络">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">getUseMobileNetworkEnabled</span> <span class="hljs-params">()</span> </span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>获取是否允许SDK在没有WIFI的情况使用移动网络进行语音通信。</p>
</li>
<li><p><strong>返回值</strong><br>true——允许使用移动网络，false——禁止使用移动网络，默认情况下允许使用移动网络。</p>
</li>
</ul>
<h3 id="控制他人麦克风">控制他人麦克风<a class="anchor" aria-hidden="true" href="#控制他人麦克风">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setOtherMicMute</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pUserID,<span class="hljs-keyword">bool</span> mute)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>控制他人的麦克风状态</p>
</li>
<li><p><strong>参数说明</strong><br><code>pUserID</code>：要控制的用户ID<br><code>mute</code>：是否静音。true:静音别人的麦克风，false：开启别人的麦克风</p>
</li>
<li><p><strong>返回值</strong><br>如果成功返回YOUME_SUCCESS，否则返回错误码，具体请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="控制他人扬声器">控制他人扬声器<a class="anchor" aria-hidden="true" href="#控制他人扬声器">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setOtherSpeakerMute</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pUserID,<span class="hljs-keyword">bool</span> mute)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>控制他人的扬声器状态</p>
</li>
<li><p><strong>参数说明</strong><br><code>pUserID</code>：要控制的用户ID<br><code>mute</code>：是否静音。true:静音别人的扬声器，false：开启别人的扬声器</p>
</li>
<li><p><strong>返回值</strong><br>如果成功返回YOUME_SUCCESS，否则返回错误码，具体请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置是否听某人的语音">设置是否听某人的语音<a class="anchor" aria-hidden="true" href="#设置是否听某人的语音">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setListenOtherVoice</span> (<span class="hljs-params"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* userID,<span class="hljs-keyword">bool</span> <span class="hljs-keyword">on</span></span>)</span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置是否听某人的语音。</p>
</li>
<li><p><strong>参数说明</strong><br><code>userID</code>：要控制的用户ID。<br><code>on</code>：true表示开启接收指定用户的语音，false表示屏蔽指定用户的语音。</p>
</li>
<li><p><strong>返回值</strong><br>如果成功返回YOUME_SUCCESS，否则返回错误码，具体请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="视频数据输入">视频数据输入<a class="anchor" aria-hidden="true" href="#视频数据输入">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">inputVideoFrame</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>* data, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span>    height, <span class="hljs-keyword">int</span> fmt, <span class="hljs-keyword">int</span> rotation, <span class="hljs-keyword">int</span> mirror, <span class="hljs-keyword">uint64_t</span> timestamp)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>视频数据输入，软件处理方式(七牛接口，房间内其它用户会收到YOUME_EVENT_OTHERS_VIDEO_INPUT_START事件)</p>
</li>
<li><p><strong>参数说明</strong><br><code>data</code>：视频帧数据<br><code>len</code>：视频数据大小<br><code>width</code>：视频图像宽<br><code>height</code>：视频图像高<br><code>fmt</code>：视频格式<br><code>rotation</code>：视频角度<br><code>mirror</code>：镜像<br><code>timestamp</code>：时间戳</p>
</li>
<li><p><strong>返回值</strong><br>如果成功返回YOUME_SUCCESS，否则返回错误码，具体请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="ios视频数据输入">ios视频数据输入<a class="anchor" aria-hidden="true" href="#ios视频数据输入">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>### <span class="hljs-function">inputVideoFrameForIOS
YouMeErrorCode <span class="hljs-title">inputVideoFrameForIOS</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>* pixelbuffer, <span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> fmt, <span class="hljs-keyword">int</span> rotation, <span class="hljs-keyword">int</span> mirror, <span class="hljs-keyword">uint64_t</span> timestamp)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>ios视频数据输入，硬件处理方式</p>
</li>
<li><p><strong>参数说明</strong><br><code>pixelbuffer</code>：CVPixelBuffer<br><code>width</code>：视频图像宽<br><code>height</code>：视频图像高<br><code>fmt</code>：视频格式<br><code>rotation</code>：视频角度<br><code>mirror</code>：镜像<br><code>timestamp</code>：时间戳</p>
</li>
<li><p><strong>返回值</strong><br>如果成功返回YOUME_SUCCESS，否则返回错误码，具体请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="android视频数据输入">android视频数据输入<a class="anchor" aria-hidden="true" href="#android视频数据输入">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>### <span class="hljs-function">inputVideoFrameForAndroid
YouMeErrorCode <span class="hljs-title">inputVideoFrameForAndroid</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> textureId, <span class="hljs-keyword">float</span>* matrix, <span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> fmt, <span class="hljs-keyword">int</span> rotation, <span class="hljs-keyword">int</span> mirror, <span class="hljs-keyword">uint64_t</span> timestamp)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>android视频数据输入，硬件处理方式</p>
</li>
<li><p><strong>参数说明</strong><br><code>textureId</code>：纹理id<br><code>matrix</code>：纹理矩阵<br><code>width</code>：视频图像宽<br><code>height</code>：视频图像高<br><code>fmt</code>：视频格式<br><code>rotation</code>：视频角度<br><code>mirror</code>：镜像<br><code>timestamp</code>：时间戳</p>
</li>
<li><p><strong>返回值</strong><br>如果成功返回YOUME_SUCCESS，否则返回错误码，具体请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="停止视频数据输入">停止视频数据输入<a class="anchor" aria-hidden="true" href="#停止视频数据输入">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>### stopInputVideoFrame
YouMeErrorCode stopInputVideoFrame ();
</code></pre><ul>
<li><p><strong>功能</strong><br>停止视频数据输入(七牛接口，在inputVideoFrame之后调用，房间内其它用户会收到YOUME_EVENT_OTHERS_VIDEO_INPUT_STOP事件)</p>
</li>
<li><p><strong>返回值</strong><br>如果成功返回YOUME_SUCCESS，否则返回错误码，具体请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="音频数据输入">音频数据输入<a class="anchor" aria-hidden="true" href="#音频数据输入">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>### <span class="hljs-function">inputAudioFrame
YouMeErrorCode <span class="hljs-title">inputAudioFrame</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>* data, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">uint64_t</span> timestamp)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>(七牛接口)将提供的音频数据混合到麦克风或者扬声器的音轨里面。</p>
</li>
<li><p><strong>参数说明</strong><br><code>data</code>：指向PCM数据的缓冲区<br><code>len</code>：音频数据的大小<br><code>timestamp</code>：时间戳</p>
</li>
<li><p><strong>返回值</strong><br>如果成功返回YOUME_SUCCESS，否则返回错误码，具体请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="暂停通话">暂停通话<a class="anchor" aria-hidden="true" href="#暂停通话">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode pauseChannel()<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>暂停通话，释放对麦克风等设备资源的占用。当需要用第三方模块临时录音时，可调用这个接口。</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS才会有异步回调通知。其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
<li><p><strong>异步回调</strong></p>
</li>
</ul>
<pre><code><span class="hljs-comment">//主要回调事件：</span>
<span class="hljs-comment">//YOUME_EVENT_PAUSED - 暂停语音频道完成</span>
<span class="hljs-function"><span class="hljs-keyword">void</span>  <span class="hljs-title">onEvent</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strParam)</span></span>;
</code></pre><h3 id="恢复通话">恢复通话<a class="anchor" aria-hidden="true" href="#恢复通话">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode resumeChannel()<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>恢复通话，调用PauseChannel暂停通话后，可调用这个接口恢复通话。</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS才会有异步回调通知。其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
<li><p><strong>异步回调</strong></p>
</li>
</ul>
<pre><code><span class="hljs-comment">//主要回调事件：</span>
<span class="hljs-comment">//YOUME_EVENT_RESUMED - 恢复语音频道完成</span>
<span class="hljs-function"><span class="hljs-keyword">void</span>  <span class="hljs-title">onEvent</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strParam)</span></span>;
</code></pre><h3 id="设置语音检测">设置语音检测<a class="anchor" aria-hidden="true" href="#设置语音检测">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setVadCallbackEnabled</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> enabled)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置是否开启语音检测回调。开启后频道内有人正在讲话与结束讲话都会发起相应回调通知。</p>
</li>
<li><p><strong>参数说明</strong><br><code>bEnabled</code>:true——打开，false——关闭。</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置音量回调">设置音量回调<a class="anchor" aria-hidden="true" href="#设置音量回调">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setMicLevelCallback</span><span class="hljs-params">(<span class="hljs-keyword">int</span> maxLevel)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置是否开启讲话音量回调, 并设置相应的参数</p>
</li>
<li><p><strong>参数说明</strong><br><code>maxLevel</code>:音量最大时对应的级别，最大可设100。根据实际需要设置小于100的值可以减少回调的次数。比如你只在UI上呈现10级的音量变化，那就设10就可以了。设 0 表示关闭回调。</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="远端音量回调">远端音量回调<a class="anchor" aria-hidden="true" href="#远端音量回调">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setFarendVoiceLevelCallback</span><span class="hljs-params">(<span class="hljs-keyword">int</span> maxLevel)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置是否开启远端语音音量回调, 并设置相应的参数</p>
</li>
<li><p><strong>参数说明</strong><br><code>maxLevel</code>:音量最大时对应的级别，最大可设100。根据实际需要设置小于100的值可以减少回调的次数。比如你只在UI上呈现10级的音量变化，那就设10就可以了。设 0 表示关闭回调。</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置当麦克风静音时是否释放麦克风设备">设置当麦克风静音时，是否释放麦克风设备<a class="anchor" aria-hidden="true" href="#设置当麦克风静音时是否释放麦克风设备">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setReleaseMicWhenMute</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> enabled)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置当麦克风静音时，是否释放麦克风设备，在初始化之后、加入房间之前调用</p>
</li>
<li><p><strong>参数说明</strong><br><code>enabled</code>:true 当麦克风静音时，释放麦克风设备，此时允许第三方模块使用麦克风设备录音。在Android上，语音通过媒体音轨，而不是通话音轨输出。<br>false 不管麦克风是否静音，麦克风设备都会被占用。</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h2 id="设置插入耳机时是否自动退出系统通话模式">设置插入耳机时，是否自动退出系统通话模式<a class="anchor" aria-hidden="true" href="#设置插入耳机时是否自动退出系统通话模式">#</a></h2><ul>
<li><p><strong>语法</strong></p>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setExitCommModeWhenHeadsetPlugin</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> enabled)</span></span>;
</code></pre></li>
<li><p><strong>功能</strong><br>设置插入耳机时，是否自动退出系统通话模式(禁用手机硬件提供的回声消除等信号前处理)<br>系统提供的前处理效果包括回声消除、自动增益等，有助于抑制背景音乐等回声噪音，减少系统资源消耗<br>由于插入耳机可从物理上阻断回声产生，故可设置禁用该效果以保留背景音乐的原生音质效果<br>注：Windows和macOS不支持该接口</p>
</li>
<li><p><strong>参数说明</strong><br><code>enabled</code>： true--当插入耳机时，自动禁用系统硬件信号前处理，拔出时还原；false--插拔耳机不做处理。</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="释放麦克风">释放麦克风<a class="anchor" aria-hidden="true" href="#释放麦克风">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">releaseMicSync</span><span class="hljs-params">()</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>调用后同步完成麦克风释放，只是为了方便使用 IM 的录音接口时切换麦克风使用权。</p>
</li>
<li><p><strong>返回值</strong><br>true成功 false 失败</p>
</li>
</ul>
<h3 id="恢复麦克风">恢复麦克风<a class="anchor" aria-hidden="true" href="#恢复麦克风">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">resumeMicSync</span><span class="hljs-params">()</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>调用后恢复麦克风到释放前的状态，只是为了方便使用 IM 的录音接口时切换麦克风使用权。</p>
</li>
<li><p><strong>返回值</strong><br>true成功 false 失败</p>
</li>
</ul>
<h3 id="播放背景音乐">播放背景音乐<a class="anchor" aria-hidden="true" href="#播放背景音乐">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">playBackgroundMusic</span> <span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pFilePath, <span class="hljs-keyword">bool</span> bRepeat)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>播放指定的音乐文件。播放的音乐将会通过扬声器输出，并和语音混合后发送给接收方。这个功能适合于主播/指挥等使用。</p>
</li>
<li><p><strong>参数说明</strong><br><code>pFilePath</code>：音乐文件的路径。<br><code>bRepeat</code>：是否重复播放，true——重复播放，false——只播放一次就停止播放。</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS才会有异步回调通知。其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
<li><p><strong>异步回调</strong></p>
</li>
</ul>
<pre><code><span class="hljs-comment">//主要回调事件：</span>
<span class="hljs-comment">//YOUME_EVENT_BGM_STOPPED - 通知背景音乐播放结束</span>
<span class="hljs-comment">//YOUME_EVENT_BGM_FAILED - 通知背景音乐播放失败</span>
<span class="hljs-function"><span class="hljs-keyword">void</span>  <span class="hljs-title">onEvent</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strParam)</span></span>;
</code></pre><h3 id="停止播放背景音乐">停止播放背景音乐<a class="anchor" aria-hidden="true" href="#停止播放背景音乐">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode stopBackgroundMusic()<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>停止播放当前正在播放的背景音乐。<br>这是一个同步调用接口，函数返回时，音乐播放也就停止了。</p>
</li>
<li><p><strong>返回值</strong><br>如果成功返回YOUME_SUCCESS，表明成功停止了音乐播放流程；否则返回错误码，具体请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="暂停播放背景音乐">暂停播放背景音乐<a class="anchor" aria-hidden="true" href="#暂停播放背景音乐">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode pauseBackgroundMusic()<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>如果当前正在播放背景音乐的话，暂停播放</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS表明请求成功，其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="恢复播放背景音乐">恢复播放背景音乐<a class="anchor" aria-hidden="true" href="#恢复播放背景音乐">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode resumeBackgroundMusic()<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>如果当前正在播放背景音乐的话，恢复播放</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS表明请求成功，其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="背景音乐是否在播放">背景音乐是否在播放<a class="anchor" aria-hidden="true" href="#背景音乐是否在播放">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isBackgroundMusicPlaying</span><span class="hljs-params">()</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>是否在播放背景音乐</p>
</li>
<li><p><strong>返回值</strong><br>true——正在播放，false——没有播放</p>
</li>
</ul>
<h3 id="设置背景音乐播放音量">设置背景音乐播放音量<a class="anchor" aria-hidden="true" href="#设置背景音乐播放音量">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setBackgroundMusicVolume</span><span class="hljs-params">(<span class="hljs-keyword">int</span> vol)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设定背景音乐的音量。这个接口用于调整背景音乐和语音之间的相对音量，使得背景音乐和语音混合听起来协调。<br>这是一个同步调用接口。</p>
</li>
<li><p><strong>参数说明</strong><br><code>vol</code>:背景音乐的音量，范围 [0-100]。</p>
</li>
<li><p><strong>返回值</strong><br>如果成功（表明成功设置了背景音乐的音量）返回YOUME_SUCCESS，否则返回错误码，具体请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置监听">设置监听<a class="anchor" aria-hidden="true" href="#设置监听">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setHeadsetMonitorOn</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> micEnabled, <span class="hljs-keyword">bool</span> bgmEnabled = <span class="hljs-literal">true</span>)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置是否用耳机监听自己的声音，当不插耳机或外部输入模式时，这个设置不起作用<br>这是一个同步调用接口。</p>
</li>
<li><p><strong>参数说明</strong><br><code>micEnabled</code>:是否监听麦克风 true 监听，false 不监听。<br><code>bgmEnabled</code>:是否监听背景音乐 true 监听，false 不监听。</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置混响音效">设置混响音效<a class="anchor" aria-hidden="true" href="#设置混响音效">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setReverbEnabled</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> enabled)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置是否开启混响音效，这个主要对主播/指挥有用。</p>
</li>
<li><p><strong>参数说明</strong><br><code>bEnabled</code>:true——打开，false——关闭。</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h2 id="设置音频数据回调">设置音频数据回调<a class="anchor" aria-hidden="true" href="#设置音频数据回调">#</a></h2><pre><code> <span class="hljs-function">YouMeErrorCode <span class="hljs-title">setPcmCallbackEnable</span><span class="hljs-params">(IYouMePcmCallback* pcmCallback, <span class="hljs-keyword">int</span> flag,  <span class="hljs-keyword">bool</span> bOutputToSpeaker = <span class="hljs-literal">true</span>)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置是否开启音频pcm回调，以及开启哪种类型的pcm回调。<br>本接口可以在加入房间前，或者加入房间后调用。</p>
</li>
<li><p><strong>参数说明</strong><br><code>pcmCallback</code>:实现音频pcm回调的实例<br><code>flag</code>:说明需要哪些类型的音频回调，共有三种类型的回调，分别是远端音频，录音音频，以及远端和录音数据的混合音频。flag格式形如<code>PcmCallbackFlag_Romote| PcmCallbackFlag_Record|PcmCallbackFlag_Mix</code>；<br><code>bOutputToSpeaker</code>: 是否扬声器静音:true 不静音;false 静音</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkAndroidStatusCode.php#YouMeErrorCode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
<li><p><strong>相关回调接口</strong></p>
<pre><code><span class="hljs-comment">//pcm回调接口位于IYouMePcmCallback</span>
<span class="hljs-comment">//以下3个回调分别对应于3种类型的音频pcm回调</span>
<span class="hljs-comment">//开启后才会有</span>

<span class="hljs-comment">//远端数据回调</span>
<span class="hljs-comment">//channelNum:声道数</span>
<span class="hljs-comment">//samplingRateHz:采样率</span>
<span class="hljs-comment">//bytesPerSample:采样深度</span>
<span class="hljs-comment">//data:pcm数据buffer</span>
<span class="hljs-comment">//dataSizeInByte: pcm数据的size</span>
<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPcmDataRemote</span><span class="hljs-params">(<span class="hljs-keyword">int</span> channelNum, <span class="hljs-keyword">int</span> samplingRateHz, <span class="hljs-keyword">int</span> bytesPerSample, <span class="hljs-keyword">void</span>* data, <span class="hljs-keyword">int</span> dataSizeInByte)</span>
<span class="hljs-comment">//录音数据回调</span>
<span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPcmDataRecord</span><span class="hljs-params">(<span class="hljs-keyword">int</span> channelNum, <span class="hljs-keyword">int</span> samplingRateHz, <span class="hljs-keyword">int</span> bytesPerSample, <span class="hljs-keyword">void</span>* data, <span class="hljs-keyword">int</span> dataSizeInByte)</span>
<span class="hljs-comment">//远端和录音的混合数据回调</span>
<span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPcmDataMix</span><span class="hljs-params">(<span class="hljs-keyword">int</span> channelNum, <span class="hljs-keyword">int</span> samplingRateHz, <span class="hljs-keyword">int</span> bytesPerSample, <span class="hljs-keyword">void</span>* data, <span class="hljs-keyword">int</span> dataSizeInByte)</span></span>
</code></pre></li>
</ul>
<h3 id="设置录音时间戳">设置录音时间戳<a class="anchor" aria-hidden="true" href="#设置录音时间戳">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setRecordingTimeMs</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> timeMs)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置当前录音的时间戳。当通过录游戏脚本进行直播时，要保证观众端音画同步，在主播端需要进行时间对齐。<br>这个接口设置的就是当前游戏画面录制已经进行到哪个时间点了。</p>
</li>
<li><p><strong>参数说明</strong><br><code>timeMs</code>:当前游戏画面对应的时间点，单位为毫秒。</p>
</li>
<li><p><strong>返回值</strong><br>无。</p>
</li>
</ul>
<h3 id="设置pcm数据回调对象">设置PCM数据回调对象<a class="anchor" aria-hidden="true" href="#设置pcm数据回调对象">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode setPcmCallback(<span class="hljs-name">IYouMePcmCallback*</span> pcmCallback)<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>设置PCM数据回调对象</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置成员变化回调对象">设置成员变化回调对象<a class="anchor" aria-hidden="true" href="#设置成员变化回调对象">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setMemberChangeCallback</span><span class="hljs-params">(IYouMeMemberChangeCallback* cb)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>getChannelUserList的回调消息</p>
</li>
<li><p><strong>返回值</strong><br>无</p>
</li>
</ul>
<h3 id="设置频道内的广播消息回调">设置频道内的广播消息回调<a class="anchor" aria-hidden="true" href="#设置频道内的广播消息回调">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setNotifyCallback</span><span class="hljs-params">(IYouMeChannelMsgCallback* cb)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置频道内的广播消息回调</p>
</li>
<li><p><strong>返回值</strong><br>无</p>
</li>
</ul>
<h3 id="获取sdk版本号">获取SDK版本号<a class="anchor" aria-hidden="true" href="#获取sdk版本号">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getSDKVersion</span><span class="hljs-params">()</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>获取SDK版本号</p>
</li>
<li><p><strong>返回值</strong><br>整形数字版本号</p>
</li>
</ul>
<h3 id="获取摄像头个数">获取摄像头个数<a class="anchor" aria-hidden="true" href="#获取摄像头个数">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getCameraCount</span><span class="hljs-params">()</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>获取windwos平台，摄像头个数</p>
</li>
<li><p><strong>返回值</strong><br>摄像头个数</p>
</li>
</ul>
<h3 id="获取摄像头名称">获取摄像头名称<a class="anchor" aria-hidden="true" href="#获取摄像头名称">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">getCameraName</span><span class="hljs-params">(<span class="hljs-keyword">int</span> cameraId, <span class="hljs-keyword">char</span>* name, <span class="hljs-keyword">int</span> nameLen)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>获取windows平台cameraid 对应名称</p>
</li>
<li><p><strong>参数说明</strong><br><code>cameraId</code>：摄像头id<br><code>name</code>：摄像头名称返回buffer<br><code>nameLen</code>：buffer长度</p>
</li>
<li><p><strong>返回值</strong><br>true 成功 false 失败</p>
</li>
</ul>
<h3 id="设置windows平台打开摄像头id">设置windows平台打开摄像头id<a class="anchor" aria-hidden="true" href="#设置windows平台打开摄像头id">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setOpenCameraId</span><span class="hljs-params">(<span class="hljs-keyword">int</span> cameraId)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置windows平台打开摄像头id</p>
</li>
<li><p><strong>参数说明</strong><br><code>cameraId</code>：摄像头id</p>
</li>
<li><p><strong>返回值</strong><br>无</p>
</li>
</ul>
<h3 id="抢麦相关设置">抢麦相关设置<a class="anchor" aria-hidden="true" href="#抢麦相关设置">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setGrabMicOption</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pChannelID, <span class="hljs-keyword">int</span> mode, <span class="hljs-keyword">int</span> maxAllowCount, <span class="hljs-keyword">int</span> maxTalkTime, <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> voteTime)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>抢麦相关设置（抢麦活动发起前调用此接口进行设置）</p>
</li>
<li><p><strong>参数说明</strong><br><code>pChannelID</code>：抢麦活动的频道id<br><code>mode</code>：抢麦模式（1:先到先得模式；2:按权重分配模式）<br><code>maxAllowCount</code>：允许能抢到麦的最大人数<br><code>maxTalkTime</code>：允许抢到麦后使用麦的最大时间（秒）<br><code>voteTime</code>：抢麦仲裁时间（秒），过了X秒后服务器将进行仲裁谁最终获得麦（仅在按权重分配模式下有效）</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="发起抢麦活动">发起抢麦活动<a class="anchor" aria-hidden="true" href="#发起抢麦活动">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">startGrabMicAction</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pChannelID, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pContent)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>抢麦相关设置（抢麦活动发起前调用此接口进行设置）</p>
</li>
<li><p><strong>参数说明</strong><br><code>pChannelID</code>：抢麦活动的频道id<br><code>pContent</code>：游戏传入的上下文内容，通知回调会传回此内容（目前只支持纯文本格式）</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="停止抢麦活动">停止抢麦活动<a class="anchor" aria-hidden="true" href="#停止抢麦活动">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">stopGrabMicAction</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pChannelID, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pContent)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>停止抢麦活动</p>
</li>
<li><p><strong>参数说明</strong><br><code>pChannelID</code>：抢麦活动的频道id<br><code>pContent</code>：游戏传入的上下文内容，通知回调会传回此内容（目前只支持纯文本格式）</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="发起抢麦请求">发起抢麦请求<a class="anchor" aria-hidden="true" href="#发起抢麦请求">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">requestGrabMic</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pChannelID, <span class="hljs-keyword">int</span> score, <span class="hljs-keyword">bool</span> isAutoOpenMic, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pContent)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>停止抢麦活动</p>
</li>
<li><p><strong>参数说明</strong><br><code>pChannelID</code>：抢麦的频道id<br><code>score</code>：积分（权重分配模式下有效，游戏根据自己实际情况设置）<br><code>isAutoOpenMic</code>：抢麦成功后是否自动开启麦克风权限<br><code>pContent</code>：游戏传入的上下文内容，通知回调会传回此内容（目前只支持纯文本格式）</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="释放抢到的麦">释放抢到的麦<a class="anchor" aria-hidden="true" href="#释放抢到的麦">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">releaseGrabMic</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pChannelID)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>释放抢到的麦</p>
</li>
<li><p><strong>参数说明</strong><br><code>pChannelID</code>：抢麦的频道id</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="连麦相关设置">连麦相关设置<a class="anchor" aria-hidden="true" href="#连麦相关设置">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setInviteMicOption</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pChannelID, <span class="hljs-keyword">int</span> waitTimeout, <span class="hljs-keyword">int</span> maxTalkTime)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>连麦相关设置（角色是频道的管理者或者主播时调用此接口进行频道内的连麦设置）</p>
</li>
<li><p><strong>参数说明</strong><br><code>pChannelID</code>：连麦的频道id<br><code>waitTimeout</code>：等待对方响应超时时间（秒）<br><code>maxTalkTime</code>：最大通话时间（秒）</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="发起连麦请求">发起连麦请求<a class="anchor" aria-hidden="true" href="#发起连麦请求">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">requestInviteMic</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pChannelID, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pUserID, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pContent)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>发起与某人的连麦请求（主动呼叫）</p>
</li>
<li><p><strong>参数说明</strong><br><code>pUserID</code>：被叫方的用户id<br><code>pContent</code>：游戏传入的上下文内容，通知回调会传回此内容（目前只支持纯文本格式）</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="回应连麦请求">回应连麦请求<a class="anchor" aria-hidden="true" href="#回应连麦请求">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">responseInviteMic</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pUserID, <span class="hljs-keyword">bool</span> isAccept, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pContent)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>对连麦请求做出回应（被动应答）</p>
</li>
<li><p><strong>参数说明</strong><br><code>pUserID</code>：主叫方的用户id<br><code>isAccept</code>：是否同意连麦<br><code>pContent</code>：游戏传入的上下文内容，通知回调会传回此内容（目前只支持纯文本格式）</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="停止连麦">停止连麦<a class="anchor" aria-hidden="true" href="#停止连麦">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode stopInviteMic()<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>停止连麦</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="向房间广播消息">向房间广播消息<a class="anchor" aria-hidden="true" href="#向房间广播消息">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> <span class="hljs-function">YouMeErrorCode <span class="hljs-title">sendMessage</span><span class="hljs-params">( <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pChannelID,  <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pContent, <span class="hljs-keyword">int</span>* requestID )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>向房间广播消息</p>
</li>
<li><p><strong>参数说明</strong><br><code>pChannelID</code>:广播房间<br><code>pContent</code>:广播内容-文本串<br><code>requestID</code>:返回消息标识，回调的时候会回传该值</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置是否由外部输入音视频">设置是否由外部输入音视频<a class="anchor" aria-hidden="true" href="#设置是否由外部输入音视频">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setExternalInputMode</span><span class="hljs-params">( <span class="hljs-keyword">bool</span> bInputModeEnabled )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置是否由外部输入音视频</p>
</li>
<li><p><strong>参数说明</strong><br><code>bInputModeEnabled</code>:true:外部输入模式，false:SDK内部采集模式</p>
</li>
<li><p><strong>返回值</strong><br>无。</p>
</li>
</ul>
<h3 id="设置外部输入模式的语音采样率">设置外部输入模式的语音采样率<a class="anchor" aria-hidden="true" href="#设置外部输入模式的语音采样率">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> YouMeErrorCode setExternalInputSampleRate( <span class="hljs-name">YOUME_SAMPLE_RATE</span> inputSampleRate, YOUME_SAMPLE_RATE mixedCallbackSampleRate )<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>设置外部输入模式的语音采样率</p>
</li>
<li><p><strong>参数说明</strong><br><code>inputSampleRate</code>:输入语音采样率<br><code>mixedCallbackSampleRate</code>:mix后输出语音采样率</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置视频网络传输分辨率">设置视频网络传输分辨率<a class="anchor" aria-hidden="true" href="#设置视频网络传输分辨率">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> YouMeErrorCode setVideoNetResolution(  <span class="hljs-keyword">int</span> <span class="hljs-built_in">width</span>, <span class="hljs-keyword">int</span> <span class="hljs-built_in">height</span>  );
</code></pre><ul>
<li><p><strong>功能</strong><br>设置视频网络传输过程的分辨率,高分辨率</p>
</li>
<li><p><strong>参数说明</strong><br><code>width</code>:宽<br><code>height</code>:高</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置视频网络传输低分辨率">设置视频网络传输低分辨率<a class="anchor" aria-hidden="true" href="#设置视频网络传输低分辨率">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> YouMeErrorCode setVideoNetResolutionForSecond(  <span class="hljs-keyword">int</span> <span class="hljs-built_in">width</span>, <span class="hljs-keyword">int</span> <span class="hljs-built_in">height</span>  );
</code></pre><ul>
<li><p><strong>功能</strong><br>设置视频网络传输过程的分辨率，低分辨率</p>
</li>
<li><p><strong>参数说明</strong><br><code>width</code>:宽<br><code>height</code>:高</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置和流画布大小">设置和流画布大小<a class="anchor" aria-hidden="true" href="#设置和流画布大小">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> <span class="hljs-keyword">void</span> setMixVideoSize(  <span class="hljs-keyword">int</span> <span class="hljs-built_in">width</span>, <span class="hljs-keyword">int</span> <span class="hljs-built_in">height</span>  );
</code></pre><ul>
<li><p><strong>功能</strong><br>设置和流画布大小（不设置则默认为采集视频分辨率）</p>
</li>
<li><p><strong>参数说明</strong><br><code>width</code>:宽<br><code>height</code>:高</p>
</li>
<li><p><strong>返回值</strong><br>无。</p>
</li>
</ul>
<h3 id="设置具体的user的视频数据在合流画面中展现的位置和尺寸">设置具体的user的视频数据在合流画面中展现的位置和尺寸<a class="anchor" aria-hidden="true" href="#设置具体的user的视频数据在合流画面中展现的位置和尺寸">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addMixOverlayVideo</span><span class="hljs-params">(  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> userId, <span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z, <span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span> height  )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置具体的user的视频数据在合流画面中展现的位置和尺寸。</p>
</li>
<li><p><strong>参数说明</strong><br><code>x</code>:x<br><code>y</code>:y<br><code>z</code>:z,z值小的在前面<br><code>width</code>:宽<br><code>height</code>:高</p>
</li>
<li><p><strong>返回值</strong><br>无。</p>
</li>
</ul>
<h3 id="移除单个合流画面">移除单个合流画面<a class="anchor" aria-hidden="true" href="#移除单个合流画面">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">removeMixOverlayVideo</span><span class="hljs-params">(  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> userId  )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>移除单个合流画面</p>
</li>
<li><p><strong>参数说明</strong><br><code>userId</code>:用户id</p>
</li>
<li><p><strong>返回值</strong><br>无。</p>
</li>
</ul>
<h3 id="清除所有合流信息">清除所有合流信息<a class="anchor" aria-hidden="true" href="#清除所有合流信息">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">removeAllOverlayVideo</span><span class="hljs-params">()</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>清除所有合流信息</p>
</li>
<li><p><strong>返回值</strong><br>无。</p>
</li>
</ul>
<h3 id="设置音视频统计数据时间间隔">设置音视频统计数据时间间隔<a class="anchor" aria-hidden="true" href="#设置音视频统计数据时间间隔">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setAVStatisticInterval</span><span class="hljs-params">(  <span class="hljs-keyword">int</span> interval  )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置音视频统计数据时间间隔</p>
</li>
<li><p><strong>参数说明</strong><br><code>interval</code>:时间间隔</p>
</li>
<li><p><strong>返回值</strong><br>无。</p>
</li>
</ul>
<h3 id="设置音视频统计数据回调接口">设置音视频统计数据回调接口<a class="anchor" aria-hidden="true" href="#设置音视频统计数据回调接口">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setAVStatisticCallback</span><span class="hljs-params">(  IYouMeAVStatisticCallback* cb  )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置Audio,Video的统计数据的回调接口</p>
</li>
<li><p><strong>参数说明</strong><br><code>cb</code>:需要继承IYouMeAVStatisticCallback并实现其中的回调函数</p>
</li>
<li><p><strong>返回值</strong><br>无。</p>
</li>
</ul>
<h3 id="设置audio传输质量">设置Audio传输质量<a class="anchor" aria-hidden="true" href="#设置audio传输质量">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setAudioQuality</span><span class="hljs-params">(  YOUME_AUDIO_QUALITY quality  )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置Audio的传输质量</p>
</li>
<li><p><strong>参数说明</strong><br><code>quality</code>:0: low 1: high</p>
</li>
<li><p><strong>返回值</strong><br>无。</p>
</li>
</ul>
<h3 id="设置是否开启视频编码器">设置是否开启视频编码器<a class="anchor" aria-hidden="true" href="#设置是否开启视频编码器">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> <span class="hljs-function">YouMeErrorCode <span class="hljs-title">openVideoEncoder</span><span class="hljs-params">( <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pFilePath )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置是否开启视频编码器</p>
</li>
<li><p><strong>参数说明</strong><br><code>pFilePath</code>:yuv文件的绝对路径</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置播放时间戳">设置播放时间戳<a class="anchor" aria-hidden="true" href="#设置播放时间戳">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setPlayingTimeMs</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> timeMs)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置当前声音播放的时间戳。当通过录游戏脚本进行直播时，要保证观众端音画同步，游戏画面的播放需要和声音播放进行时间对齐。<br>这个接口设置的就是当前游戏画面播放已经进行到哪个时间点了。</p>
</li>
<li><p><strong>参数说明</strong><br><code>timeMs</code>:当前游戏画面播放对应的时间点，单位为毫秒。</p>
</li>
<li><p><strong>返回值</strong><br>无。</p>
</li>
</ul>
<h3 id="设置服务器区域">设置服务器区域<a class="anchor" aria-hidden="true" href="#设置服务器区域">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setServerRegion</span><span class="hljs-params">(YOUME_RTC_SERVER_REGION regionId, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strExtRegionName)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置首选连接服务器的区域码.</p>
</li>
<li><p><strong>参数说明</strong><br><code>serverRegionId</code>：如果YOUME_RTC_SERVER_REGION定义的区域码不能满足要求，可以把这个参数设为 RTC_EXT_SERVER，然后通过后面的参数strExtServerRegionName 设置一个自定的区域值（如中国用 &quot;cn&quot; 或者 “ch&quot;表示），然后把这个自定义的区域值同步给游密，我们将通过后台配置映射到最佳区域的服务器。<br><code>strExtServerRegionName</code>：自定义的扩展的服务器区域名。不能为null，可为空字符串“”。只有前一个参数serverRegionId设为RTC_EXT_SERVER时，此参数才有效（否则都将当空字符串“”处理）。</p>
</li>
</ul>
<h3 id="设置服务器区域全">设置服务器区域（全）<a class="anchor" aria-hidden="true" href="#设置服务器区域全">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setServerRegion</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>*[] regionNames)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置参与通话各方所在的区域,这个接口适合于分布区域比较广的应用。最简单的做法是只设定前用户所在区域。但如果能确定其他参与通话的应用所在的区域，则能使服务器选择更优。</p>
</li>
<li><p><strong>参数说明</strong><br><code>regionNames</code>：指定参与通话各方区域的数组，数组里每个元素为一个区域代码。用户可以自行定义代表各区域的字符串（如中国用 &quot;cn&quot; 或者 “ch&quot;表示），然后把定义好的区域表同步给游密，游密会把这些定义配置到后台，在实际运营时选择最优服务器。</p>
</li>
</ul>
<h3 id="restapi支持主播相关信息查询">RestApi——支持主播相关信息查询<a class="anchor" aria-hidden="true" href="#restapi支持主播相关信息查询">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode  <span class="hljs-title">requestRestApi</span><span class="hljs-params">( <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; strCommand , <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; strQueryBody , <span class="hljs-keyword">int</span>* requestID = <span class="hljs-literal">NULL</span>  )</span></span>;
</code></pre><ul>
<li><strong>功能</strong><br>Rest API , 向服务器请求额外数据。支持主播信息，主播排班等功能查询。详情参看文档&lt;RequestRestAPI接口说明&gt;</li>
</ul>
<ul>
<li><p><strong>参数说明</strong><br><code>strCommand</code>：请求的命令字符串，标识命令类型。<br><code>strQueryBody</code>：请求需要的参数,json格式。<br><code>requestID</code>：回传id,回调的时候传回，标识消息。不关心可以填NULL。</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS才会有异步回调通知。其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
<li><p><strong>设置回调</strong></p>
</li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setRestApiCallback</span><span class="hljs-params">(IRestApiCallback* cb )</span></span>;
</code></pre><ul>
<li><strong>异步回调</strong><pre><code><span class="hljs-comment">//IRestApiCallback</span>
</code></pre></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onRequestRestAPI</span><span class="hljs-params">( <span class="hljs-keyword">int</span> requestID, <span class="hljs-keyword">const</span> YouMeErrorCode &amp;iErrorCode, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; strQuery, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp;  strResult )</span></span>
</code></pre><pre><code><span class="hljs-comment">//requestID:回传ID</span>
<span class="hljs-comment">//iErrorCode:错误码</span>
<span class="hljs-comment">//strQuery:回传查询请求，json格式</span>
<span class="hljs-comment">//strResult:查询结果，json格式</span>
</code></pre><h3 id="安全验证码设置">安全验证码设置<a class="anchor" aria-hidden="true" href="#安全验证码设置">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setToken</span><span class="hljs-params">( <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pToken )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置身份验证的token，需要配合后台接口。</p>
</li>
<li><p><strong>参数说明</strong><br><code>pToken</code>：身份验证用token，设置为NULL或者空字符串，清空token值，不进行身份验证。</p>
</li>
</ul>
<h3 id="查询频道用户列表">查询频道用户列表<a class="anchor" aria-hidden="true" href="#查询频道用户列表">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">getChannelUserList</span><span class="hljs-params">( <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>*  channelID, <span class="hljs-keyword">int</span> maxCount, <span class="hljs-keyword">bool</span> notifyMemChange )</span></span>;
</code></pre><ul>
<li><strong>功能</strong><br>查询频道当前的用户列表， 并设置是否获取频道用户进出的通知。（必须自己在频道中）</li>
</ul>
<ul>
<li><p><strong>参数说明</strong><br><code>channelID</code>：频道ID。<br><code>maxCount</code>：想要获取的最大人数。-1表示获取全部列表。<br><code>notifyMemChange</code>：当有人进出频道时，是否获得通知。</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS才会有异步回调通知。其它返回值请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
<li><p><strong>设置回调</strong></p>
</li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setMemberChangeCallback</span><span class="hljs-params">( IYouMeMemberChangeCallback* cb )</span></span>;
</code></pre><ul>
<li><strong>异步回调</strong><pre><code><span class="hljs-comment">//IYouMeMemberChangeCallback</span>
</code></pre></li>
</ul>
<pre><code>void onMemberChange( const <span class="hljs-symbol">std:</span><span class="hljs-symbol">:string&amp;</span> channel, <span class="hljs-symbol">std:</span><span class="hljs-symbol">:list&lt;MemberChange&gt;&amp;</span> listMemberChange )
</code></pre><pre><code>参数说明：
<span class="hljs-comment">//channel:频道ID</span>
<span class="hljs-comment">//listMemberChange:查询获得的用户列表，或变更列表。</span>
</code></pre><h2 id="视频相关接口">视频相关接口<a class="anchor" aria-hidden="true" href="#视频相关接口">#</a></h2><p>视频的频道属性和语音是绑定的，可以单独控制是否开启/关闭音视频流。<strong>以下接口的调用，必须是在进入频道之后。</strong></p>
<h3 id="创建视频渲染">创建视频渲染<a class="anchor" aria-hidden="true" href="#创建视频渲染">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">createRender</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> * userId)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>根据用户ID创建渲染ID</p>
</li>
<li><p><strong>参数说明</strong><br><code>userId</code>：用户ID</p>
</li>
<li><p><strong>返回值</strong><br>大于等于0时，为渲染ID；小于0则为错误码，具体的错误码请参考<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="删除视频渲染">删除视频渲染<a class="anchor" aria-hidden="true" href="#删除视频渲染">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">deleteRender</span><span class="hljs-params">(<span class="hljs-keyword">int</span> renderId)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>删除之前创建的渲染ID</p>
</li>
<li><p><strong>参数说明</strong><br><code>renderId</code>：渲染ID</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置视频流回调">设置视频流回调<a class="anchor" aria-hidden="true" href="#设置视频流回调">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode setVideoCallback(IYouMeVideoCallback * cb)<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>设置视频流的异步回调函数</p>
</li>
<li><p><strong>返回值</strong><br>返回YOUME_SUCCESS</p>
</li>
<li><p><strong>异步回调</strong></p>
<pre><code><span class="hljs-comment">//IYouMeVideoCallback</span>
</code></pre></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">frameRender</span><span class="hljs-params">(<span class="hljs-keyword">int</span> renderId, <span class="hljs-keyword">int</span> nWidth, <span class="hljs-keyword">int</span> nHeight, <span class="hljs-keyword">int</span> nRotationDegree, <span class="hljs-keyword">int</span> nBufSize, <span class="hljs-keyword">const</span> <span class="hljs-keyword">void</span> * buf)</span></span>
</code></pre><pre><code><span class="hljs-comment">//参数说明：</span>
<span class="hljs-comment">//renderId:createRender返回的渲染ID;</span>
<span class="hljs-comment">//nWidth:视频流的宽;</span>
<span class="hljs-comment">//nHeight:视频流的高;</span>
<span class="hljs-comment">//nRotationDegree:视频流的旋转角度;</span>
<span class="hljs-comment">//nBufSize:视频流的数据大小;</span>
<span class="hljs-comment">//buf:视频流的数据地址</span>
</code></pre><pre><code><span class="hljs-comment">//注意事项：</span>
返回的视频流是YUV格式，需转换成RGB/RGBA格式，才能使用
</code></pre><h3 id="开始捕获本机摄像头数据">开始捕获本机摄像头数据<a class="anchor" aria-hidden="true" href="#开始捕获本机摄像头数据">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode startCapture()<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>捕获本机摄像头数据，以便发送给房间内其他人</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="停止捕获本机摄像头数据">停止捕获本机摄像头数据<a class="anchor" aria-hidden="true" href="#停止捕获本机摄像头数据">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode stopCapture()<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>停止捕获本机摄像头数据（比如退出房间、程序切换到后台时）</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="切换前后置摄像头">切换前后置摄像头<a class="anchor" aria-hidden="true" href="#切换前后置摄像头">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode switchCamera()<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>切换前后置摄像头（默认使用的是前置摄像头）</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="重置摄像头">重置摄像头<a class="anchor" aria-hidden="true" href="#重置摄像头">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode resetCamera()<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>权限检测结束后重置摄像头</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="踢出房间">踢出房间<a class="anchor" aria-hidden="true" href="#踢出房间">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">kickOtherFromChannel</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pUserID, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pChannelID , <span class="hljs-keyword">int</span> lastTime)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>把某人踢出房间</p>
</li>
<li><p><strong>参数说明</strong><br><code>pUserID</code>被踢的用户ID<br><code>pChannelID</code>:从哪个房间踢出<br><code>lastTime</code>:踢出后，多长时间内不允许再次进入</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置日志等级">设置日志等级<a class="anchor" aria-hidden="true" href="#设置日志等级">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setLogLevel</span><span class="hljs-params">(YOUME_LOG_LEVEL consoleLevel, YOUME_LOG_LEVEL fileLevel)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置日志等级</p>
</li>
<li><p><strong>参数说明</strong><br><code>consoleLevel</code>:控制台日志等级<br><code>fileLevel</code>:文件日志等级</p>
</li>
<li><p><strong>返回值</strong><br>无。</p>
</li>
</ul>
<h3 id="设置用户自定义log路径">设置用户自定义Log路径<a class="anchor" aria-hidden="true" href="#设置用户自定义log路径">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setUserLogPath</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* pFilePath)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置用户自定义Log路径</p>
</li>
<li><p><strong>参数说明</strong><br><code>pFilePath</code>:Log文件的路径</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置是否使用tcp">设置是否使用TCP<a class="anchor" aria-hidden="true" href="#设置是否使用tcp">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setTCPMode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> iUseTCP)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置是否使用TCP传输语音视频数据，必须在进入房间之前调用</p>
</li>
<li><p><strong>参数说明</strong><br><code>iUseTCP</code>:默认情况下使用UDP，在某些UDP被禁用的网络可以切换成TCP，但是TCP模式下延迟等将不可控，除非必要，不要调用</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="屏蔽恢复他人视频">屏蔽/恢复他人视频<a class="anchor" aria-hidden="true" href="#屏蔽恢复他人视频">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">maskVideoByUserId</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> * userId, <span class="hljs-keyword">bool</span> mask)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>屏蔽他人视频（屏蔽后恢复他人视频也是调用此函数）</p>
</li>
<li><p><strong>参数说明</strong><br><code>userId</code>：要屏蔽的用户ID<br><code>mask</code>:true是要屏蔽，false是要取消屏蔽</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置硬件编解码">设置硬件编解码<a class="anchor" aria-hidden="true" href="#设置硬件编解码">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setVideoHardwareCodeEnable</span><span class="hljs-params">( <span class="hljs-keyword">bool</span> bEnable )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置视频数据是否同意开启硬编硬解<br>（实际是否开启硬解，还跟服务器配置及硬件是否支持有关，要全部支持开启才会使用硬解。并且如果硬编硬解失败，也会切换回软解。）<br>（需要在进房间之前设置）</p>
</li>
<li><p><strong>参数说明</strong><br><code>bEnable</code>: true:开启，false:不开启</p>
</li>
</ul>
<h3 id="获取硬件编解码开启状态">获取硬件编解码开启状态<a class="anchor" aria-hidden="true" href="#获取硬件编解码开启状态">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">getVideoHardwareCodeEnable</span><span class="hljs-params">( )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>获取视频数据是否开启硬编硬解标识</p>
</li>
<li><p><strong>返回值</strong><br>true:开启，false:不开启， 默认为true;</p>
</li>
</ul>
<h3 id="设置视频超时时间">设置视频超时时间<a class="anchor" aria-hidden="true" href="#设置视频超时时间">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setVideoNoFrameTimeout</span><span class="hljs-params">(<span class="hljs-keyword">int</span> timeout)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置视频无帧渲染的等待超时时间，超过这个时间会给上层回调</p>
</li>
<li><p><strong>参数说明</strong><br><code>timeout</code>: 超时时间，单位为毫秒</p>
</li>
<li><p><strong>异步回调</strong></p>
</li>
</ul>
<pre><code><span class="hljs-comment">//主要回调事件：</span>
<span class="hljs-comment">//YOUME_EVENT_MEDIA_DATA_ROAD_BLOCK - 音视频数据通路不通</span>
<span class="hljs-function"><span class="hljs-keyword">void</span>  <span class="hljs-title">onEvent</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* strParam)</span></span>;
</code></pre><h3 id="查询多个用户视频信息">查询多个用户视频信息<a class="anchor" aria-hidden="true" href="#查询多个用户视频信息">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode queryUsersVideoInfo(<span class="hljs-symbol">std:</span><span class="hljs-symbol">:vector&lt;std</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:string&gt;&amp;</span> userList);
</code></pre><ul>
<li><p><strong>功能</strong><br>查询多个用户视频信息（支持分辨率）</p>
</li>
<li><p><strong>参数说明</strong><br><code>userList</code>: 用户ID列表</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置多个用户视频信息支持分辨率">设置多个用户视频信息（支持分辨率）<a class="anchor" aria-hidden="true" href="#设置多个用户视频信息支持分辨率">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode setUsersVideoInfo(<span class="hljs-symbol">std:</span><span class="hljs-symbol">:vector&lt;IYouMeVoiceEngine</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:userVideoInfo&gt;&amp;</span> videoInfoList);
</code></pre><ul>
<li><p><strong>功能</strong><br>设置多个用户视频信息（支持分辨率）</p>
</li>
<li><p><strong>参数说明</strong><br><code>videoinfoList</code>: 用户对应分辨率列表<br><code>userVideoInfo</code>: struct userVideoInfo包含std::string userId（用户id）;int resolutionType（支持分辨率）;</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置帧率">设置帧率<a class="anchor" aria-hidden="true" href="#设置帧率">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setVideoFps</span><span class="hljs-params">(<span class="hljs-keyword">int</span> fps)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置帧率</p>
</li>
<li><p><strong>参数说明</strong><br><code>fps</code>:帧率（1-30），默认15帧</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置本地视频的分辨率">设置本地视频的分辨率<a class="anchor" aria-hidden="true" href="#设置本地视频的分辨率">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode setVideoLocalResolution(<span class="hljs-keyword">int</span> <span class="hljs-built_in">width</span>, <span class="hljs-keyword">int</span> <span class="hljs-built_in">height</span>);
</code></pre><ul>
<li><p><strong>功能</strong><br>设置本地视频渲染回调的分辨率</p>
</li>
<li><p><strong>参数说明</strong><br><code>width</code>:视频宽度<br><code>height</code>:视频高度</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置是否前置摄像头">设置是否前置摄像头<a class="anchor" aria-hidden="true" href="#设置是否前置摄像头">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setCaptureFrontCameraEnable</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> enable)</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置是否前置摄像头</p>
</li>
<li><p><strong>参数说明</strong><br><code>enable</code>:true 前置 false 非前置</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置视频码率的上下限">设置视频码率的上下限<a class="anchor" aria-hidden="true" href="#设置视频码率的上下限">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setVideoCodeBitrate</span><span class="hljs-params">( <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> maxBitrate,  <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> minBitrate )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置视频数据上行的码率的上下限。</p>
</li>
<li><p><strong>参数说明</strong><br><code>maxBitrate</code>:最大码率，单位kbps.  0：使用默认值<br><code>minBitrate</code>:最小码率，单位kbps.  0：使用默认值</p>
</li>
<li><p><strong>返回值</strong><br>无。</p>
</li>
</ul>
<h3 id="设置视频数据上行的码率的上下限第二路默认不传">设置视频数据上行的码率的上下限,第二路(默认不传)<a class="anchor" aria-hidden="true" href="#设置视频数据上行的码率的上下限第二路默认不传">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setVideoCodeBitrateForSecond</span><span class="hljs-params">( <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> maxBitrate,  <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> minBitrate )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>设置视频数据上行的码率的上下限,第二路(默认不传)</p>
</li>
<li><p><strong>参数说明</strong><br><code>maxBitrate</code>:最大码率，单位kbps.  0：使用默认值<br><code>minBitrate</code>:最小码率，单位kbps.  0：使用默认值</p>
</li>
<li><p><strong>返回值</strong><br>无。</p>
</li>
</ul>
<h3 id="获取视频当前码率">获取视频当前码率<a class="anchor" aria-hidden="true" href="#获取视频当前码率">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getCurrentVideoCodeBitrate</span><span class="hljs-params">( )</span></span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>获取视频数据上行的当前码率。</p>
</li>
<li><p><strong>返回值</strong><br>码率值，单位kbps</p>
</li>
</ul>
<h3 id="美颜开关">美颜开关<a class="anchor" aria-hidden="true" href="#美颜开关">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">openBeautify</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> open)</span> </span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>美颜开关，默认是关闭美颜</p>
</li>
<li><p><strong>参数说明</strong><br><code>open</code>:true表示开启美颜，false表示关闭美颜</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="设置美颜参数">设置美颜参数<a class="anchor" aria-hidden="true" href="#设置美颜参数">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">beautifyChanged</span><span class="hljs-params">(<span class="hljs-keyword">float</span> param)</span> </span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>美颜强度参数设置</p>
</li>
<li><p><strong>参数说明</strong><br><code>param</code>:美颜参数，0.0 - 1.0 ，默认为0，几乎没有美颜效果，0.5左右效果明显</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="瘦脸开关">瘦脸开关<a class="anchor" aria-hidden="true" href="#瘦脸开关">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code><span class="hljs-function">YouMeErrorCode <span class="hljs-title">stretchFace</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> stretch)</span> </span>;
</code></pre><ul>
<li><p><strong>功能</strong><br>瘦脸开关，默认关闭</p>
</li>
<li><p><strong>参数说明</strong><br><code>stretch</code>:true 开启瘦脸，false关闭，默认 false</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="会议纪要功能">会议纪要功能<a class="anchor" aria-hidden="true" href="#会议纪要功能">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code class="lang-c++"><span class="hljs-function">YouMeErrorCode <span class="hljs-title">setTranscriberEnabled</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> enable, IYouMeTranscriberCallback* transcriberCallback )</span></span>;
</code></pre>
<ul>
<li><p><strong>功能</strong><br>设置开启或者关闭会议纪要功能。会议纪要功能，是指在通话过程中，自动将每个人的语音识别为文字。可在进入房间前，或者进入房间后设置。目前只支持windows.</p>
</li>
<li><p><strong>参数说明</strong><br><code>enable</code>:true 开启，false关闭，默认 false。<br><code>transcriberCallback</code>: 识别出的文字的回调接口。</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
<li><p><strong>回调</strong></p>
</li>
</ul>
<pre><code class="lang-c++"><span class="hljs-comment">//语句的开始</span>
<span class="hljs-comment">//userid:说话人</span>
<span class="hljs-comment">//sentenceIndex:语句的序号</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSentenceBegin</span><span class="hljs-params">( <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> userid , <span class="hljs-keyword">int</span> sentenceIndex)</span> </span>= <span class="hljs-number">0</span> ;
<span class="hljs-comment">//语句识别结果的改变，用于实时显示当前的识别结果（一句话，随着说的字越来越多，长度会增加，原来识别的结果也可能改变）。</span>
<span class="hljs-comment">//userid:说话人</span>
<span class="hljs-comment">//sentenceIndex:语句的序号</span>
<span class="hljs-comment">//result：语句的当前识别结果</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSentenceEnd</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> userid,  <span class="hljs-keyword">int</span> sentenceIndex, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> result)</span> </span>= <span class="hljs-number">0</span>;
<span class="hljs-comment">//语句的最终识别结果，如果不需要实时的变更说话内容，可以只关注这个回调</span>
<span class="hljs-comment">//userid:说话人</span>
<span class="hljs-comment">//sentenceIndex:语句的序号</span>
<span class="hljs-comment">//result:语句的当前识别结果</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSentenceChanged</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> userid,  <span class="hljs-keyword">int</span> sentenceIndex, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> result)</span> </span>= <span class="hljs-number">0</span>;
</code></pre>
<h3 id="翻译">翻译<a class="anchor" aria-hidden="true" href="#翻译">#</a></h3><p>调用本接口前，需要先设置翻译的回调<code>setTranslateCallback</code>。</p>
<ul>
<li><strong>语法</strong></li>
</ul>
<pre><code class="lang-c++"><span class="hljs-function">YouMeErrorCode <span class="hljs-title">translateText</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span>* requestID, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* text, YouMeLanguageCode destLangCode, YouMeLanguageCode srcLangCode)</span></span>;
</code></pre>
<ul>
<li><p><strong>功能</strong><br>翻译一段文字为指定语言。</p>
</li>
<li><p><strong>参数说明</strong><br><code>requestID</code>: 翻译请求的ID，传出参数，用于在回调中确定翻译结果是对应哪次请求。<br><code>text</code>: 要翻译的内容。<br><code>destLangCode</code>:要翻译成什么语言。<br><code>srcLangCode</code>:要翻译的是什么语言。</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
<li><p><strong>回调</strong></p>
</li>
</ul>
<pre><code class="lang-c++"><span class="hljs-comment">//errorcode：错误码</span>
<span class="hljs-comment">//requestID：请求ID（与translateText接口输出参数requestID一致）</span>
<span class="hljs-comment">//text：翻译结果</span>
<span class="hljs-comment">//srcLangCode：源语言编码</span>
<span class="hljs-comment">//destLangCode：目标语言编码</span>
<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onTranslateTextComplete</span><span class="hljs-params">(YouMeErrorCode errorcode, <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> requestID, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; text, YouMeLanguageCode srcLangCode, YouMeLanguageCode destLangCode)</span> </span>= <span class="hljs-number">0</span> ;
</code></pre>
<h3 id="设置翻译的回调">设置翻译的回调<a class="anchor" aria-hidden="true" href="#设置翻译的回调">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code class="lang-c++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setTranslateCallback</span><span class="hljs-params">( IYouMeTranslateCallback* pCallback )</span></span>;
</code></pre>
<ul>
<li><p><strong>功能</strong><br>设置翻译的回调实例。</p>
</li>
<li><p><strong>参数说明</strong><br><code>pCallback</code>: 翻译请求的ID，传出参数，用于在回调中确定翻译结果是对应哪次请求。</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
<h3 id="视频接入流程以一个房间2个人为例">视频接入流程（以一个房间2个人为例）<a class="anchor" aria-hidden="true" href="#视频接入流程以一个房间2个人为例">#</a></h3><ul>
<li>1.创建2个空的RenderTexture（指定好宽高以及PixelFormat）</li>
<li>2.走正常加入语音频道流程</li>
<li>3.在OnEvent回调里面根据不同的事件进行处理：<ul>
<li>YOUME_EVENT_JOIN_OK //加入频道成功<ul>
<li>调用startCapture开启摄像头捕获</li>
<li>调用setVideoCallback设置视频数据异步回调处理函数</li>
<li>调用createRender获取当前用户ID对应的渲染ID，保存好对应关系</li>
</ul>
</li>
<li>YOUME_EVENT_LEAVED_ALL //离开频道成功<ul>
<li>调用stopCapture停止摄像头捕获</li>
<li>调用deleteRender删除当前用户的渲染ID，取消当前用户ID与渲染ID的对应关系</li>
</ul>
</li>
<li>YOUME_EVENT_OTHERS_VIDEO_ON //其他用户视频打开<ul>
<li>调用setVideoCallback设置视频数据异步回调处理函数</li>
<li>调用createRender获取其他用户ID对应的渲染ID，保存好对应关系</li>
</ul>
</li>
<li>YOUME_EVENT_OTHERS_VIDEO_SHUT_DOWN //其他用户视频关闭<ul>
<li>调用deleteRender删除其他用户的渲染ID，取消其他用户ID与渲染ID的对应关系</li>
</ul>
</li>
</ul>
</li>
<li>4.在IYouMeVideoCallback回调接口的frameRender处理视频流数据<ul>
<li>将YUV视频数据转换成RGB/RGBA数据</li>
<li>根据回调回来的renderId，找到对应的用户ID</li>
<li>一个用户ID对应一个RenderTexture，将处理好的RGB/RGBA的数据与RenderTexture对应起来</li>
<li>注：以上操作都必须放到主线程中处理</li>
</ul>
</li>
<li>5.在Layer/Scene-&gt;Update的时候，update renderTexture，加载最新的视频RGB/RGBA数据，即可显示出最新的视频图像</li>
</ul>
<h3 id="视频接入补充说明">视频接入补充说明<a class="anchor" aria-hidden="true" href="#视频接入补充说明">#</a></h3><ul>
<li>如果觉得上述的接入过程太麻烦，可以直接使用已将上述接口封装过一层的YouMeTalk类，使用该类时的接入流程如下：<ul>
<li>1-2与<a href="###视频接入流程">视频接入流程</a>一致</li>
<li>3.在OnEvent回调里面根据不同的事件进行处理<ul>
<li>YOUME_EVENT_JOIN_OK //加入频道成功<ul>
<li>调用startCapture开启摄像头捕获</li>
<li>调用bindTexture将当前用户ID和一个RenderTexture绑定起来</li>
</ul>
</li>
<li>YOUME_EVENT_LEAVED_ALL //离开频道成功<ul>
<li>调用stopCapture停止摄像头捕获</li>
<li>调用unbindTexture将当前用户ID与RenderTexture解绑</li>
</ul>
</li>
<li>YOUME_EVENT_OTHERS_VIDEO_ON //其他用户视频打开<ul>
<li>调用bindTexture将其他用户ID和另一个RenderTexture绑定起来</li>
</ul>
</li>
<li>YOUME_EVENT_OTHERS_VIDEO_SHUT_DOWN //其他用户视频关闭<ul>
<li>调用unbindTexture将其他用户ID与RenderTexture解绑</li>
</ul>
</li>
</ul>
</li>
<li>4.在Layer/Scene-&gt;Update的时候，调用updateTextures即可显示最新视频图像</li>
</ul>
</li>
<li>YouMeTalk文件位置：在游密提供的cocos2dx的demo中的Classes目录中：YouMeTalk.h/YouMeTalk.cpp</li>
</ul>
<h3 id="反初始化">反初始化<a class="anchor" aria-hidden="true" href="#反初始化">#</a></h3><ul>
<li><strong>语法</strong></li>
</ul>
<pre><code>YouMeErrorCode unInit ()<span class="hljs-comment">;</span>
</code></pre><ul>
<li><p><strong>功能</strong><br>反初始化引擎，可在退出游戏时调用，以释放SDK所有资源。</p>
</li>
<li><p><strong>返回值</strong><br>如果成功则返回YOUME_SUCCESS，其它具体参见<a href="/doc/TalkStatusCode.html#youmeerrorcode类型定义">YouMeErrorCode类型定义</a>。</p>
</li>
</ul>
</section>                  </div>                </section>              </section>              <footer class="bg-gray">                <section id="copyright" class="grid-footer container grid-960">                  <p>                    Copyright © 2017 <a href="http://www.youme.im" target="_blank">YouMe</a>. All Rights Reserved.                  </p>                </section>              </footer>            </body>            <script>!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Clipboard=e()}}(function(){var e,t,n;return function e(t,n,i){function o(a,c){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){function i(e,t){for(;e&&e!==document;){if(e.matches(t))return e;e=e.parentNode}}if(Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}t.exports=i},{}],2:[function(e,t,n){function i(e,t,n,i,r){var a=o.apply(this,arguments);return e.addEventListener(n,a,r),{destroy:function(){e.removeEventListener(n,a,r)}}}function o(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}var r=e("./closest");t.exports=i},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},{}],4:[function(e,t,n){function i(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!c.string(t))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(e))return o(e,t,n);if(c.nodeList(e))return r(e,t,n);if(c.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function r(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return l(document.body,e,t,n)}var c=e("./is"),l=e("delegate");t.exports=i},{"./is":3,delegate:2}],5:[function(e,t,n){function i(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}t.exports=i},{}],6:[function(e,t,n){function i(){}i.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function i(){o.off(e,i),t.apply(n,arguments)}var o=this;return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,o=n.length;for(i;i<o;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],o=[];if(i&&t)for(var r=0,a=i.length;r<a;r++)i[r].fn!==t&&i[r].fn._!==t&&o.push(i[r]);return o.length?n[e]=o:delete n[e],this}},t.exports=i},{}],7:[function(t,n,i){!function(o,r){if("function"==typeof e&&e.amd)e(["module","select"],r);else if("undefined"!=typeof i)r(n,t("select"));else{var a={exports:{}};r(a,o.select),o.clipboardAction=a.exports}}(this,function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(t),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function(){function e(t){i(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function e(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function e(){var t=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[n?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,i)),this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,o.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function e(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function e(){this.selectedText=(0,o.default)(this.target),this.copyText()}},{key:"copyText",value:function e(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function e(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function e(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function e(){this.removeFake()}},{key:"action",set:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function e(){return this._action}},{key:"target",set:function e(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function e(){return this._target}}]),e}();e.exports=c})},{select:5}],8:[function(t,n,i){!function(o,r){if("function"==typeof e&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof i)r(n,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var a={exports:{}};r(a,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=a.exports}}(this,function(e,t,n,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var s=o(t),u=o(n),f=o(i),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function(e){function t(e,n){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.resolveOptions(n),i.listenClick(e),i}return c(t,e),d(t,[{key:"resolveOptions",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function e(t){var n=this;this.listener=(0,f.default)(t,"click",function(e){return n.onClick(e)})}},{key:"onClick",value:function e(t){var n=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})}},{key:"defaultAction",value:function e(t){return l("action",t)}},{key:"defaultTarget",value:function e(t){var n=l("target",t);if(n)return document.querySelector(n)}},{key:"defaultText",value:function e(t){return l("text",t)}},{key:"destroy",value:function e(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),t}(u.default);e.exports=h})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});

function resize(){
  var heights = window.innerHeight;
  document.querySelectorAll('.docs-nav')[0].style.height = heights + "px";
}
resize();
window.onresize = function() {
    resize();
};
var codebox = document.querySelectorAll('pre') || [];
for (i = 0; i < codebox.length; ++i) {
  codebox[i].insertAdjacentHTML('afterbegin', '<div class="copy-success">复制成功</div><button class="copyButton">COPY</button>');
}
var clipboard = new Clipboard('.copyButton', {
  target: function(trigger) {
    return trigger.nextElementSibling;
  }
});
clipboard.on('success', function(e) {
  var tip = e.trigger.previousElementSibling;
  var code = e.trigger.nextElementSibling;
  tip.style.display = 'block';
  code.classList.add("mask");
  setTimeout(function() {
    tip.style.display = 'none';
    code.classList.remove("mask");
  }, 1000);
});</script>            </html>